/* Workforce Schedule Manager Styles - Optimized */
*{margin:0;padding:0;box-sizing:border-box}
:root{
    --primary-50:#f8fafc;--primary-100:#f1f5f9;--primary-200:#e2e8f0;--primary-300:#cbd5e1;--primary-400:#94a3b8;--primary-500:#64748b;--primary-600:#475569;--primary-700:#334155;--primary-800:#1e293b;--primary-900:#0f172a;
    --neutral-50:#fafafa;--neutral-100:#f5f5f5;--neutral-200:#e5e5e5;--neutral-300:#d4d4d4;--neutral-400:#a3a3a3;--neutral-500:#737373;--neutral-600:#525252;--neutral-700:#404040;--neutral-800:#262626;--neutral-900:#171717;
    --success-50:#f0fdf4;--success-500:#22c55e;--success-600:#16a34a;--success-700:#15803d;
    --warning-50:#fefce8;--warning-500:#eab308;--warning-600:#ca8a04;
    --error-50:#fef2f2;--error-500:#ef4444;--error-600:#dc2626;
    --shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.05);--shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--shadow-xl:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --border-radius-sm:0.375rem;--border-radius:0.5rem;--border-radius-md:0.75rem;--border-radius-lg:1rem;--border-radius-xl:1.5rem
}

body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell',sans-serif;line-height:1.6;color:var(--neutral-800);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);background-attachment:fixed;min-height:100vh;font-size:14px;font-weight:400;letter-spacing:-0.01em}
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%,rgba(120,119,198,0.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,255,255,0.1) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(120,119,198,0.2) 0%,transparent 50%);pointer-events:none;z-index:-1}
.container{max-width:1600px;margin:0 auto;padding:1.5rem;position:relative}

/* Header */
.header{background:rgba(255,255,255,0.15);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.18);color:white;padding:2.5rem;border-radius:var(--border-radius-xl);margin-bottom:2rem;box-shadow:var(--shadow-xl);position:relative;overflow:hidden}
.header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(102,126,234,0.3) 0%,rgba(118,75,162,0.3) 100%);border-radius:var(--border-radius-xl);z-index:-1}
.header h1{margin-bottom:1.5rem;font-size:2.5em;font-weight:700;letter-spacing:-0.025em;text-shadow:0 2px 4px rgba(0,0,0,0.1);background:linear-gradient(135deg,#ffffff 0%,rgba(255,255,255,0.9) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}

.navigation-tabs{display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;justify-content:space-between}
.header-actions{display:flex;gap:0.5rem;align-items:center;margin-left:auto}
.nav-tab{background:rgba(255,255,255,0.2);backdrop-filter:blur(10px);color:rgba(255,255,255,0.9);border:1px solid rgba(255,255,255,0.3);padding:0.625rem 1rem;border-radius:var(--border-radius-lg);cursor:pointer;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);font-size:0.8125rem;font-weight:500;display:flex;align-items:center;gap:0.5rem;position:relative;overflow:hidden;text-shadow:0 1px 2px rgba(0,0,0,0.1);background-image:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%)}
.nav-tab::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s}
.nav-tab:hover::before{left:100%}
.nav-tab:hover{background:rgba(255,255,255,0.3);border-color:rgba(255,255,255,0.5);transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,0.15);color:white}
.nav-tab.active{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);color:var(--primary-700);font-weight:600;border-color:rgba(255,255,255,0.6);box-shadow:0 4px 20px rgba(0,0,0,0.15)}
.nav-tab.active:hover{background:white;transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,0,0,0.15)}

/* Main Content */
.main-content{display:flex;flex-direction:column;gap:2rem}
.view{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);border:1px solid rgba(255,255,255,0.2);overflow:hidden;display:none;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);position:relative}
.view::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none;z-index:-1}
.view.active{display:block;animation:slideUp 0.6s cubic-bezier(0.4,0,0.2,1)}

/* Calendar View */
.calendar-container{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);border:1px solid rgba(255,255,255,0.2);overflow:hidden;position:relative}
.calendar-container::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none;z-index:-1}

.calendar-header{padding:1rem 1.25rem;border-bottom:1px solid rgba(255,255,255,0.3);background:rgba(248,250,252,0.9);backdrop-filter:blur(10px);position:sticky;top:0;z-index:50}
.calendar-controls-row{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:0.75rem;width:100%;flex-wrap:wrap;gap:12px}
.calendar-filters{display:flex;gap:8px;align-items:flex-start;flex:1;justify-content:flex-start;order:1;margin-left:0}
.filter-section{display:flex;flex-direction:column;gap:6px}
.filter-section label{font-size:10px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:0.3px;margin-bottom:2px}
.filter-toggles{display:flex;gap:4px;flex-wrap:wrap}

.filter-btn{padding:4px 8px;border:1px solid #d1d5db;background:#ffffff;border-radius:4px;font-size:11px;font-weight:600;color:#9ca3af;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;gap:3px;min-width:45px;justify-content:center;height:28px}
.filter-btn:hover{border-color:#9ca3af;background:#f9fafb;color:#6b7280;transform:none;box-shadow:none}
.filter-btn.active{background:linear-gradient(135deg,#d1d5db 0%,#9ca3af 100%);border-color:#9ca3af;color:#374151;box-shadow:0 1px 3px rgba(0,0,0,0.1)}
.filter-btn.active:hover{background:linear-gradient(135deg,#9ca3af 0%,#6b7280 100%);border-color:#6b7280}
.filter-btn i{font-size:10px;opacity:0.8}
.btn-danger:hover,.btn-danger:active{transform:none;box-shadow:none}

/* Data dropdown */
.data-dropdown{position:relative;display:inline-block}

/* Snapshot badge styles */
.snapshot-badge {
    margin-left: 6px;
    cursor: help;
    opacity: 0.5;
    transition: all 0.2s ease;
    padding: 6px 8px;
    min-width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.snapshot-badge.has-snapshot {
    opacity: 1;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-color: #059669;
    color: white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.snapshot-badge.has-snapshot:hover {
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
    border-color: #047857;
}

.snapshot-badge i {
    font-size: 10px;
    opacity: 0.8;
}
.dropdown-menu{position:absolute;top:32px;left:0;min-width:210px;background:white;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 10px 20px rgba(0,0,0,0.12);padding:6px;z-index:1000;display:none}
.dropdown-menu.show{display:block}
.dropdown-item{width:100%;display:flex;align-items:center;gap:8px;padding:8px 10px;background:none;border:none;border-radius:6px;cursor:pointer;color:#374151;font-size:12px;text-align:left}
.dropdown-item:hover{background:#f3f4f6}
.dropdown-item:disabled{opacity:0.5;cursor:not-allowed}
.dropdown-item.danger{color:#b91c1c}
.dropdown-item.danger:hover{background:#fef2f2}
.dropdown-separator{height:1px;background:#e5e7eb;margin:6px 0}

/* Time Interval and Start Date Controls - styled like filter buttons */
.calendar-selectors select.filter-btn,
.calendar-selectors input.filter-btn{
    padding:4px 8px;
    border:1px solid #d1d5db;
    background:#ffffff;
    border-radius:4px;
    font-size:11px;
    font-weight:600;
    color:#9ca3af;
    cursor:pointer;
    transition:all 0.2s ease;
    min-width:80px;
    height:28px;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
}

.calendar-selectors select.filter-btn:focus,
.calendar-selectors input.filter-btn:focus{
    outline:none;
    border-color:#9ca3af;
    background:#f9fafb;
    color:#6b7280;
    box-shadow:none;
}

.calendar-selectors select.filter-btn:hover,
.calendar-selectors input.filter-btn:hover{
    border-color:#9ca3af;
    background:#f9fafb;
    color:#6b7280;
}

/* Ensure date input text is properly aligned */
.calendar-selectors input[type="date"].filter-btn{
    text-align:left;
    padding-left:6px;
}

/* Count Filter Button Specific Styling */
.filter-btn[data-column="vacation"]{border-color:#dbb24d;color:#b8953a}
.filter-btn[data-column="vacation"]:hover{border-color:#b8953a;background:#fef9e7;color:#96752e}
.filter-btn[data-column="vacation"].active{background:linear-gradient(135deg,#dbb24d 0%,#b8953a 100%);border-color:#b8953a;color:white;box-shadow:0 1px 3px rgba(219,178,77,0.3)}
.filter-btn[data-column="vacation"].active:hover{background:linear-gradient(135deg,#b8953a 0%,#96752e 100%);border-color:#96752e}
.filter-btn[data-column="required"]{border-color:#85a3db;color:#6b8cc9}
.filter-btn[data-column="required"]:hover{border-color:#6b8cc9;background:#f0f4ff;color:#5a7ab3}
.filter-btn[data-column="required"].active{background:linear-gradient(135deg,#85a3db 0%,#6b8cc9 100%);border-color:#6b8cc9;color:white;box-shadow:0 1px 3px rgba(133,163,219,0.3)}
.filter-btn[data-column="required"].active:hover{background:linear-gradient(135deg,#6b8cc9 0%,#5a7ab3 100%);border-color:#5a7ab3}
.filter-btn[data-column="weekend"]{border-color:#72b28c;color:#5a9671}
.filter-btn[data-column="weekend"]:hover{border-color:#5a9671;background:#f0f9f4;color:#4a7d5c}
.filter-btn[data-column="weekend"].active{background:linear-gradient(135deg,#72b28c 0%,#5a9671 100%);border-color:#5a9671;color:white;box-shadow:0 1px 3px rgba(114,178,140,0.3)}
.filter-btn[data-column="weekend"].active:hover{background:linear-gradient(135deg,#5a9671 0%,#4a7d5c 100%);border-color:#4a7d5c}
.filter-btn[data-column="charge"]{border-color:#db7272;color:#c15a5a}
.filter-btn[data-column="charge"]:hover{border-color:#c15a5a;background:#fef7f7;color:#a84a4a}
.filter-btn[data-column="charge"].active{background:linear-gradient(135deg,#db7272 0%,#c15a5a 100%);border-color:#c15a5a;color:white;box-shadow:0 1px 3px rgba(219,114,114,0.3)}
.filter-btn[data-column="charge"].active:hover{background:linear-gradient(135deg,#c15a5a 0%,#a84a4a 100%);border-color:#a84a4a}
.filter-btn[data-column="move"]{border-color:#b295db;color:#9a7cc5}
.filter-btn[data-column="move"]:hover{border-color:#9a7cc5;background:#f9f5ff;color:#8265af}
.filter-btn[data-column="move"].active{background:linear-gradient(135deg,#b295db 0%,#9a7cc5 100%);border-color:#9a7cc5;color:white;box-shadow:0 1px 3px rgba(178,149,219,0.3)}
.filter-btn[data-column="move"].active:hover{background:linear-gradient(135deg,#9a7cc5 0%,#8265af 100%);border-color:#8265af}

/* Shift Filter Button Specific Styling */
.filter-btn[data-filter="all-shifts"]{border-color:#10b981;color:#059669}
.filter-btn[data-filter="all-shifts"]:hover{border-color:#059669;background:#f0fdf4;color:#047857}
.filter-btn[data-filter="all-shifts"].active{background:linear-gradient(135deg,#10b981 0%,#059669 100%);border-color:#059669;color:white;box-shadow:0 1px 3px rgba(16,185,129,0.3)}
.filter-btn[data-filter="all-shifts"].active:hover{background:linear-gradient(135deg,#059669 0%,#047857 100%);border-color:#047857}

.filter-btn[data-filter="day"]{border-color:#ca8a04;color:#a16207}
.filter-btn[data-filter="day"]:hover{border-color:#a16207;background:#fef3c7;color:#92400e}
.filter-btn[data-filter="day"].active{background:linear-gradient(135deg,#ca8a04 0%,#a16207 100%);border-color:#a16207;color:white;box-shadow:0 1px 3px rgba(202,138,4,0.3)}
.filter-btn[data-filter="day"].active:hover{background:linear-gradient(135deg,#a16207 0%,#92400e 100%);border-color:#92400e}

.filter-btn[data-filter="night"]{border-color:#1e293b;color:#0f172a}
.filter-btn[data-filter="night"]:hover{border-color:#0f172a;background:#f1f5f9;color:#334155}
.filter-btn[data-filter="night"].active{background:linear-gradient(135deg,#1e293b 0%,#0f172a 100%);border-color:#334155;color:white;box-shadow:0 1px 3px rgba(30,41,59,0.3)}
.filter-btn[data-filter="night"].active:hover{background:linear-gradient(135deg,#0f172a 0%,#000000 100%);border-color:#1e293b}

/* Role Filter Button Specific Styling */
.filter-btn[data-filter="all-roles"]{border-color:#9ca3af;color:#6b7280}
.filter-btn[data-filter="all-roles"]:hover{border-color:#6b7280;background:#f9fafb;color:#4b5563}
.filter-btn[data-filter="all-roles"].active{background:linear-gradient(135deg,#9ca3af 0%,#6b7280 100%);border-color:#6b7280;color:white;box-shadow:0 1px 3px rgba(156,163,175,0.3)}
.filter-btn[data-filter="all-roles"].active:hover{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);border-color:#4b5563}

.filter-btn[data-filter="charge-shifts"]{border-color:#9ca3af;color:#6b7280}
.filter-btn[data-filter="charge-shifts"]:hover{border-color:#6b7280;background:#f9fafb;color:#4b5563}
.filter-btn[data-filter="charge-shifts"].active{background:linear-gradient(135deg,#9ca3af 0%,#6b7280 100%);border-color:#6b7280;color:white;box-shadow:0 1px 3px rgba(156,163,175,0.3)}
.filter-btn[data-filter="charge-shifts"].active:hover{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);border-color:#4b5563}

/* Job Role Filter Button Colors - using job role badge colors */
.filter-btn[data-role="AMGR"]{border-color:#10b981;color:#059669}
.filter-btn[data-role="AMGR"]:hover{border-color:#059669;background:#f0fdf4;color:#047857}
.filter-btn[data-role="AMGR"].active{background:linear-gradient(135deg,#10b981 0%,#059669 100%);border-color:#059669;color:white;box-shadow:0 1px 3px rgba(16,185,129,0.3)}
.filter-btn[data-role="AMGR"].active:hover{background:linear-gradient(135deg,#059669 0%,#047857 100%);border-color:#047857}

.filter-btn[data-role="MGR"]{border-color:#8b5cf6;color:#7c3aed}
.filter-btn[data-role="MGR"]:hover{border-color:#7c3aed;background:#faf5ff;color:#6d28d9}
.filter-btn[data-role="MGR"].active{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);border-color:#7c3aed;color:white;box-shadow:0 1px 3px rgba(139,92,246,0.3)}
.filter-btn[data-role="MGR"].active:hover{background:linear-gradient(135deg,#7c3aed 0%,#6d28d9 100%);border-color:#6d28d9}

.filter-btn[data-role="PCT"]{border-color:#ef4444;color:#dc2626}
.filter-btn[data-role="PCT"]:hover{border-color:#dc2626;background:#fef2f2;color:#b91c1c}
.filter-btn[data-role="PCT"].active{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);border-color:#dc2626;color:white;box-shadow:0 1px 3px rgba(239,68,68,0.3)}
.filter-btn[data-role="PCT"].active:hover{background:linear-gradient(135deg,#dc2626 0%,#b91c1c 100%);border-color:#b91c1c}

.filter-btn[data-role="RN"]{border-color:#3b82f6;color:#2563eb}
.filter-btn[data-role="RN"]:hover{border-color:#2563eb;background:#eff6ff;color:#1d4ed8}
.filter-btn[data-role="RN"].active{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);border-color:#2563eb;color:white;box-shadow:0 1px 3px rgba(59,130,246,0.3)}
.filter-btn[data-role="RN"].active:hover{background:linear-gradient(135deg,#2563eb 0%,#1d4ed8 100%);border-color:#1d4ed8}

.filter-btn[data-role="US"]{border-color:#f59e0b;color:#d97706}
.filter-btn[data-role="US"]:hover{border-color:#d97706;background:#fffbeb;color:#b45309}
.filter-btn[data-role="US"].active{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);border-color:#d97706;color:white;box-shadow:0 1px 3px rgba(245,158,11,0.3)}
.filter-btn[data-role="US"].active:hover{background:linear-gradient(135deg,#d97706 0%,#b45309 100%);border-color:#b45309}

.calendar-selectors{display:flex;gap:8px;flex-wrap:wrap;align-items:flex-start}
.calendar-selectors .filter-section label{font-size:10px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:0.3px;margin-bottom:2px}
.form-control{padding:0.5rem 0.75rem;border:1px solid var(--neutral-200);border-radius:var(--border-radius);font-size:0.8125rem;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);transition:all 0.2s cubic-bezier(0.4,0,0.2,1);color:var(--neutral-800);font-weight:500;min-width:100px;height:36px}
.form-control:focus{outline:none;border-color:var(--primary-500);box-shadow:0 0 0 3px rgba(100,116,139,0.1);background:white}
.form-control:hover{border-color:var(--neutral-300)}
.calendar-actions{display:flex;gap:1rem;flex-wrap:wrap}

.schedule-matrix-container{overflow-x:auto;overflow-y:auto;max-height:80vh;background:rgba(255,255,255,0.6);backdrop-filter:blur(10px);border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg);margin-top:-0.5rem;padding-top:0.5rem;cursor:grab;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;width:100%;max-width:100vw;position:relative}
.schedule-matrix-container:hover{cursor:grab}
.schedule-matrix-container:active{cursor:grabbing}
.schedule-matrix-container::-webkit-scrollbar{height:8px}
.schedule-matrix-container::-webkit-scrollbar-track{background:rgba(255,255,255,0.3);border-radius:4px}
.schedule-matrix-container::-webkit-scrollbar-thumb{background:rgba(100,116,139,0.4);border-radius:4px;transition:background 0.2s ease}
.schedule-matrix-container::-webkit-scrollbar-thumb:hover{background:rgba(100,116,139,0.6)}
.schedule-matrix-container.dragging{cursor:grabbing;scroll-behavior:auto}
.schedule-matrix-container.dragging *{pointer-events:none;user-select:none}

.schedule-matrix{display:grid;min-width:100%;background:white;border-radius:var(--border-radius-lg);overflow:visible;box-shadow:var(--shadow-lg);font-family:'SF Mono','Monaco','Inconsolata','Roboto Mono',monospace;width:max-content;grid-template-columns:130px 100px}

.matrix-cell{padding:0.375rem 0.25rem;border-right:1px solid rgba(226,232,240,0.6);border-bottom:1px solid rgba(226,232,240,0.6);display:flex;align-items:center;justify-content:center;text-align:center;font-size:0.6875rem;font-weight:600;min-height:1.75rem;max-height:1.75rem;overflow:hidden;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);line-height:1.1;white-space:nowrap}
.matrix-cell.header-cell{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);font-weight:700;color:var(--primary-800);border-bottom:2px solid var(--primary-500);position:sticky;top:0;z-index:10;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.025em}
.matrix-cell.header-cell:first-child{left:0;box-shadow:2px 0 4px rgba(0,0,0,0.1);z-index:30}
.matrix-cell.header-cell:nth-child(2){left:130px;box-shadow:2px 0 4px rgba(0,0,0,0.1);z-index:30;border-right:3px solid #6b7280 !important}

/* Fixed count header cells */
.matrix-cell.count-header{position:sticky;right:0;z-index:15;box-shadow:-2px 0 4px rgba(0,0,0,0.1);font-weight:800;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)}
.matrix-cell.count-header-vac{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%)}
.matrix-cell.count-header-fri{background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%)}
.matrix-cell.count-header-sat{background:linear-gradient(135deg,#fef7ff 0%,#f3e8ff 100%)}
.matrix-cell.count-header-sun{background:linear-gradient(135deg,#fff7ed 0%,#fed7aa 100%)}
.matrix-cell.count-header-req{background:linear-gradient(135deg,#dbeafe 0%,#bfdbfe 100%)}
.matrix-cell.count-header-cha{background:linear-gradient(135deg,#fce7f3 0%,#fbcfe8 100%)}
.matrix-cell.count-header-mov{background:linear-gradient(135deg,#f3e8ff 0%,#e9d5ff 100%)}
/* Fixed count cells */
.matrix-cell.count-cell{position:sticky;right:0;z-index:12;box-shadow:-2px 0 4px rgba(0,0,0,0.05);font-weight:700;font-size:0.875rem;background:#ffffff}
.matrix-cell.count-cell-vac{border-left:2px solid #f59e0b;background:#fef3c7}
.matrix-cell.count-cell-fri{border-left:2px solid #22c55e;background:#f0fdf4}
.matrix-cell.count-cell-sat{border-left:2px solid #a855f7;background:#fef7ff}
.matrix-cell.count-cell-sun{border-left:2px solid #f97316;background:#fff7ed}
.matrix-cell.count-cell-req{border-left:2px solid #3b82f6;background:#dbeafe}
.matrix-cell.count-cell-cha{border-left:2px solid #ec4899;background:#fce7f3}
.matrix-cell.count-cell-mov{border-left:2px solid #a855f7;background:#f3e8ff}
.matrix-cell.count-header.hidden,.matrix-cell.count-cell.hidden{display:none}

/* Highlight weekend date headers */
.matrix-cell.header-cell.weekend{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);font-weight:700;color:var(--primary-800);border-bottom:2px solid var(--primary-500);position:sticky;top:0;z-index:10;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.025em}

/* Grey dividers between Saturday and Sunday */
.matrix-cell.saturday{border-right:3px solid #6b7280 !important}
.matrix-cell.employee-name{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);font-weight:600;color:var(--neutral-900);justify-content:flex-start;padding-left:1rem;text-align:left;font-size:0.8125rem;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;position:sticky;left:0;z-index:15;box-shadow:2px 0 4px rgba(0,0,0,0.1)}
.matrix-cell.job-role{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);color:var(--neutral-600);font-size:0.6875rem;font-weight:500;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;position:sticky;left:130px;z-index:15;box-shadow:2px 0 4px rgba(0,0,0,0.1);border-right:3px solid #6b7280 !important;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;padding:2px 4px;min-height:32px;overflow:hidden}
.matrix-cell.job-role .job-badges{display:flex;flex-direction:column;align-items:center;gap:1px}
.matrix-cell.job-role .priority-space{position:absolute;right:4px;top:50%;transform:translateY(-50%);z-index:5}

.matrix-cell.shift-cell{cursor:pointer;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);background:rgba(250,250,250,0.9);color:var(--neutral-800);position:relative;overflow:hidden;font-weight:600;font-family:'SF Mono','Monaco','Inconsolata','Roboto Mono',monospace;z-index:1}
.matrix-cell.shift-cell::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(100,116,139,0.08),transparent);transition:left 0.4s}
.matrix-cell.shift-cell:hover::before{left:100%}
.matrix-cell.shift-cell:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,0.15);background:rgba(100,116,139,0.05);border-right:1px solid rgba(100,116,139,0.15);border-bottom:1px solid rgba(100,116,139,0.15)}
.matrix-cell.shift-cell:focus{outline:2px solid var(--primary-500);outline-offset:-2px}
.matrix-cell.shift-cell:empty::before{content:'-';opacity:0.3;font-weight:400}

.matrix-cell.today{background:linear-gradient(135deg,var(--warning-50) 0%,#fef3c7 50%,var(--warning-50) 100%)!important;border:2px solid var(--warning-500)!important;box-shadow:inset 0 0 0 1px rgba(234,179,8,0.2), 0 0 0 1px rgba(234,179,8,0.1);color:var(--warning-700)!important;font-weight:600}
.matrix-cell.weekend{color:var(--neutral-700)!important;border-right:1px solid rgba(226,232,240,0.6);border-bottom:1px solid rgba(226,232,240,0.6);font-weight:500}
.matrix-cell.weekend.off-shift{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)!important;color:#94a3b8!important;font-weight:400!important;border-right:1px solid rgba(148,163,184,0.3);border-bottom:1px solid rgba(148,163,184,0.3)}
.matrix-cell.empty-state{grid-column:1/-1;background:linear-gradient(135deg,rgba(248,250,252,0.9) 0%,rgba(241,245,249,0.95) 100%);color:var(--neutral-600);font-style:italic;border:2px dashed var(--neutral-400);backdrop-filter:blur(10px);font-weight:500;padding:2rem 1rem}

/* Worker Count Summary */
.worker-count-summary-container{margin-top:-0.5rem;padding-top:0.5rem;background:rgba(255,255,255,0.6);backdrop-filter:blur(10px);border-radius:0 0 var(--border-radius-lg) var(--border-radius-lg);overflow-x:auto;overflow-y:auto;max-height:80vh;cursor:grab;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;width:100%;max-width:100vw;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.2)}
.worker-count-summary-container:hover{cursor:grab}
.worker-count-summary-container:active{cursor:grabbing}
.worker-count-summary-container::-webkit-scrollbar{height:8px}
.worker-count-summary-container::-webkit-scrollbar-track{background:rgba(255,255,255,0.3);border-radius:4px}
.worker-count-summary-container::-webkit-scrollbar-thumb{background:rgba(100,116,139,0.4);border-radius:4px;transition:background 0.2s ease}
.worker-count-summary-container::-webkit-scrollbar-thumb:hover{background:rgba(100,116,139,0.6)}
.worker-count-summary-container.dragging{cursor:grabbing;scroll-behavior:auto}
.worker-count-summary-container.dragging *{pointer-events:none;user-select:none}

.worker-count-summary{display:grid;min-width:100%;background:white;font-family:'SF Mono','Monaco','Inconsolata','Roboto Mono',monospace;width:max-content;grid-auto-rows:auto}
.summary-header{display:contents}
.summary-row{display:contents}
.summary-cell{padding:0.5rem 0.25rem;border-right:1px solid rgba(226,232,240,0.6);border-bottom:1px solid rgba(226,232,240,0.6);display:flex;align-items:center;justify-content:center;text-align:center;font-size:0.6875rem;font-weight:600;min-height:2rem;overflow:hidden;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);line-height:1.1;white-space:nowrap}

.summary-cell.summary-label{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);font-weight:700;color:var(--primary-800);border-bottom:2px solid var(--primary-500);position:sticky;left:0;z-index:15;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.025em;justify-content:flex-start;padding-left:1rem;text-align:left;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;border-right:3px solid #6b7280 !important}
.summary-cell.summary-label[style*="grid-column: 1 / -1"]{background:linear-gradient(135deg,var(--primary-600) 0%,var(--primary-700) 100%);color:white;font-size:1rem;font-weight:700;text-transform:uppercase;letter-spacing:0.05em;border-bottom:3px solid var(--primary-800);justify-content:center;padding-left:0;text-align:center}
.summary-cell.date-cell{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);font-weight:700;color:var(--primary-800);border-bottom:2px solid var(--primary-500);position:sticky;top:0;z-index:5;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.025em;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.summary-cell.count-cell{background:linear-gradient(135deg,#fafafa 0%,#f5f5f5 100%);color:var(--primary-700);font-weight:700;font-size:0.8125rem;border:1px solid rgba(59,130,246,0.2);z-index:1}

/* Special styling for summary rows */
.summary-row.amgr-row{background:rgba(59,130,246,0.05)}
.summary-row.amgr-row .summary-cell.count-cell{background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.3)}
.summary-row.pct-row{background:rgba(16,185,129,0.05)}
.summary-row.pct-row .summary-cell.count-cell{background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3)}
.summary-row.us-row{background:rgba(168,85,247,0.05)}
.summary-row.us-row .summary-cell.count-cell{background:rgba(168,85,247,0.1);border:1px solid rgba(168,85,247,0.3)}
.summary-row.rn-row{background:rgba(239,68,68,0.05)}
.summary-row.rn-row .summary-cell.count-cell{background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.3)}
.summary-row.charge-row{background:rgba(245,158,11,0.05)}
.summary-row.charge-row .summary-cell.count-cell{background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3)}

.summary-cell.today{background:linear-gradient(135deg,var(--warning-50) 0%,#fef3c7 50%,var(--warning-50) 100%)!important;border:2px solid var(--warning-500)!important;box-shadow:inset 0 0 0 1px rgba(234,179,8,0.2), 0 0 0 1px rgba(234,179,8,0.1);color:var(--warning-700)!important;font-weight:600}
.summary-cell.weekend{background:rgba(255,255,255,0.95)!important;color:var(--neutral-700)!important;border-right:1px solid rgba(226,232,240,0.6);border-bottom:1px solid rgba(226,232,240,0.6);font-weight:500;opacity:0.95}
.summary-cell.date-cell.weekend{background:linear-gradient(135deg,var(--primary-50) 0%,var(--primary-100) 100%)!important;color:var(--primary-600)!important;border-bottom:2px solid var(--primary-500)!important;font-weight:600!important}
.summary-cell.date-cell.saturday{border-right:3px solid #6b7280 !important}
.summary-cell.count-cell.saturday{border-right:3px solid #6b7280 !important}

/* Staffing Issues Floating Panel - moved to end of file */

/* PMS Guide Floating Panel */
.pms-guide-panel {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 600px !important;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-xl);
    z-index: 100;
    transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    cursor: grab;
    margin: 0;
    padding: 0;
    min-width: 600px !important;
    max-width: 600px !important;
}

.pms-guide-panel.collapsed {
    height: 70px;
    width: 600px !important;
    min-width: 600px !important;
    max-width: 600px !important;
    border-radius: var(--border-radius-lg);
}

.pms-guide-panel:not(.collapsed) {
    height: auto;
    max-height: calc(100vh - 40px);
    min-height: 200px;
    width: 600px !important;
    min-width: 600px !important;
    max-width: 600px !important;
}

.pms-guide-panel.collapsed .panel-content {
    display: none;
}

.pms-guide-panel .panel-content {
    display: none;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    padding: 0;
    width: 100%;
    box-sizing: border-box;
}

.pms-guide-panel:not(.collapsed) .panel-content {
    display: block;
}

.pms-guide-panel.collapsed .panel-header {
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-lg);
}

.pms-guide-panel.collapsed .panel-title {
    font-size: 1rem;
}

.pms-guide-panel.collapsed .panel-controls {
    gap: 0.25rem;
}

.pms-guide-panel.collapsed .btn-icon {
    padding: 0.5rem;
    font-size: 0.875rem;
}

.pms-guide-panel.dragging {
    cursor: grabbing !important;
    transition: none !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    transform: rotate(1deg);
}

.pms-guide-panel .panel-header {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
    color: white;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    overflow: hidden;
    cursor: grab;
    user-select: none;
}

.pms-guide-panel .panel-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    pointer-events: none;
}

.pms-guide-panel .panel-header.dragging {
    cursor: grabbing;
}

.pms-guide-panel .panel-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    font-size: 1rem;
}

.pms-guide-panel .panel-title i {
    color: rgba(255, 255, 255, 0.3);
    transition: color 0.3s ease;
}

.pms-guide-panel .panel-controls {
    display: flex;
    gap: 0.25rem;
}

.pms-guide-panel .panel-controls .btn-icon {
    color: rgba(255, 255, 255, 0.8);
    padding: 0.5rem;
    font-size: 0.875rem;
}

.pms-guide-panel .panel-controls .btn-icon:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

/* PMS Guide Table Styles */
.pms-guide-table-container {
    overflow-x: auto;
    margin: 15px;
}

.pms-guide-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: 12px;
}

.pms-guide-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.pms-guide-table th {
    padding: 12px 10px;
    text-align: center;
    font-weight: 600;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.pms-guide-table th:last-child {
    border-right: none;
}

.pms-guide-table tbody tr {
    border-bottom: 1px solid #e5e7eb;
    transition: background-color 0.2s ease;
}

.pms-guide-table tbody tr:hover {
    background-color: #f8fafc;
}

.pms-guide-table tbody tr:last-child {
    border-bottom: none;
}

.pms-guide-table td {
    padding: 12px 10px;
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    border-right: 1px solid #e5e7eb;
    line-height: 1.3;
}

.pms-guide-table td:last-child {
    border-right: none;
}

.pms-guide-table .shift-label {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    font-weight: 700;
    color: #475569;
    text-align: left;
    padding-left: 12px;
    border-right: 2px solid #cbd5e1;
    font-size: 13px;
    white-space: nowrap;
}

.pms-guide-table tbody tr:nth-child(1) .shift-label {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
}

.pms-guide-table tbody tr:nth-child(2) .shift-label {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #1e40af;
}

.pms-guide-table tbody tr:nth-child(3) .shift-label {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
}

/* Balance View */
.balance-header{padding:2rem;border-bottom:1px solid rgba(255,255,255,0.3);background:linear-gradient(135deg,rgba(102,126,234,0.9) 0%,rgba(118,75,162,0.9) 100%);backdrop-filter:blur(20px);color:white;position:relative;overflow:hidden}
.balance-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none}
.balance-content{padding:2rem}
.balance-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}
.stat-card{background:#f8fafc;padding:20px;border-radius:8px;border-left:4px solid #667eea;box-shadow:0 1px 3px rgba(0,0,0,0.1)}
.stat-value{font-size:2.5em;font-weight:700;color:#667eea;margin-bottom:5px}
.stat-change{color:#718096;font-size:14px}
.balance-analysis{background:#f8fafc;padding:20px;border-radius:8px;margin-top:20px}
.analysis-tips{margin-top:15px}
.analysis-tips ul{padding-left:20px}
.analysis-tips li{margin-bottom:8px;color:#4a5568}

/* Users/Shifts/Roles Views */
.users-header,.shifts-header,.roles-header{padding:20px;border-bottom:1px solid #e2e8f0;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;display:flex;justify-content:space-between;align-items:center}
.data-list{padding:20px}
.data-item{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid #e2e8f0;border-radius:8px;margin-bottom:10px;background:white;transition:all 0.2s ease}
.data-item:hover{box-shadow:0 2px 8px rgba(0,0,0,0.1);transform:translateY(-1px)}
.data-info{flex:1}
.data-info strong{display:block;color:#2d3748;font-size:16px;margin-bottom:2px}
.data-meta{color:#718096;font-size:14px}
.shift-badge{display:inline-block;padding:4px 8px;border-radius:4px;color:white;font-size:12px;font-weight:600;margin-left:10px}

/* Base badge styling for consistent width and appearance */
.role-badge,.shift-type-badge{display:inline-block;padding:1px 4px;border-radius:3px;color:white;font-size:9px;font-weight:600;text-transform:uppercase;letter-spacing:0.3px;min-width:50px;max-width:120px;text-align:center;border:1px solid transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
/* Shift type badges */
.day-shift-badge{background:linear-gradient(135deg,#ca8a04 0%,#a16207 100%);border:1px solid #a16207}
.night-shift-badge{background:linear-gradient(135deg,#1e293b 0%,#0f172a 100%);border:1px solid #334155}
/* Job role badges */
.manager-badge{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);border:1px solid #2563eb}
.senior-cashier-badge{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%);border:1px solid #7c3aed}
.cashier-badge{background:linear-gradient(135deg,#ec4899 0%,#db2777 100%);border:1px solid #db2777}
.stock-clerk-badge{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);border:1px solid #d97706}
.sales-associate-badge{background:linear-gradient(135deg,#10b981 0%,#059669 100%);border:1px solid #059669}
.no-role-badge{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);border:1px solid #4b5563}
.default-role-badge{background:linear-gradient(135deg,#64748b 0%,#475569 100%);border:1px solid #475569}

/* Badge container for employee list view */
.badge-container{display:flex;gap:2px;flex-wrap:wrap;margin-top:2px}
/* Job role cell styling for calendar */
.matrix-cell.job-role{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;padding:2px 4px;min-height:32px;overflow:hidden}
/* Role header styling for job roles management */
.role-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:2px}
.role-header strong{flex:1;margin:0}
/* Role color swatch for displaying assigned colors */
.role-color-swatch{width:20px;height:20px;border-radius:4px;border:2px solid transparent;display:inline-block;flex-shrink:0;cursor:help;transition:transform 0.2s ease;margin-left:12px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.role-color-swatch:hover{transform:scale(1.15);box-shadow:0 4px 8px rgba(0,0,0,0.15)}
/* Shift header styling for shift types management */
.shift-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:2px}
.shift-header strong{flex:1;margin:0}
/* Shift color swatch for displaying assigned colors */
.shift-color-swatch{width:20px;height:20px;border-radius:4px;border:2px solid transparent;display:inline-block;flex-shrink:0;cursor:help;transition:transform 0.2s ease;margin-left:12px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.shift-color-swatch:hover{transform:scale(1.15);box-shadow:0 4px 8px rgba(0,0,0,0.15)}
/* Color swatches in data-actions area */
.data-actions .role-color-swatch,
.data-actions .shift-color-swatch{margin-left:0;margin-right:0}

.data-actions{display:flex;gap:12px;align-items:center}
.btn{padding:0.625rem 1rem;border:none;border-radius:var(--border-radius-lg);cursor:pointer;font-size:0.8125rem;font-weight:600;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);display:inline-flex;align-items:center;gap:0.5rem;text-decoration:none;position:relative;overflow:hidden;letter-spacing:0.025em;box-shadow:var(--shadow-sm)}.btn-sm{padding:0.5rem 1rem;font-size:0.8125rem;font-weight:600;border-radius:var(--border-radius);gap:0.375rem}
.btn-small{padding:4px 8px;font-size:11px;font-weight:600;border-radius:4px;gap:3px;height:28px}
.btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s}
.btn:hover::before{left:100%}
.btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.btn:active{transform:translateY(0);box-shadow:var(--shadow-md)}

.btn-primary{background:linear-gradient(135deg,var(--primary-400) 0%,var(--primary-500) 100%);color:white;border:1px solid var(--primary-400)}
.btn-primary:hover{background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%)}
.btn-secondary{background:linear-gradient(135deg,#cbd5e1 0%,#94a3b8 100%);color:white;border:1px solid #cbd5e1}
.btn-secondary:hover{background:linear-gradient(135deg,#94a3b8 0%,#64748b 100%);border-color:#94a3b8;color:white;transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,0.15)}
.btn-success{background:linear-gradient(135deg,var(--success-500) 0%,var(--success-600) 100%);color:white;border:1px solid var(--success-500)}
.btn-success:hover{background:linear-gradient(135deg,var(--success-600) 0%,var(--success-700) 100%)}
.btn-danger{background:linear-gradient(135deg,#fecaca 0%,#fca5a5 100%);color:#dc2626;border:1px solid #f87171}
.btn-danger:hover{background:linear-gradient(135deg,#fca5a5 0%,#f87171 100%);border-color:#ef4444;color:#b91c1c}
.btn-icon{padding:0.75rem;background:transparent;color:var(--neutral-500);border:none;box-shadow:none;border-radius:var(--border-radius)}

/* Admin Panel Styles */
#adminModal .modal-content{background:linear-gradient(135deg,rgba(255,255,255,0.95) 0%,rgba(248,250,252,0.95) 100%);border:1px solid rgba(255,255,255,0.3)}

.admin-tabs{display:flex;gap:6px;margin-bottom:24px;background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);padding:6px;border-radius:12px;border:1px solid #e2e8f0;box-shadow:inset 0 1px 3px rgba(0,0,0,0.05)}
.admin-tab{padding:12px 20px;background:transparent;border:none;color:#64748b;cursor:pointer;border-radius:8px;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);font-weight:600;display:flex;align-items:center;gap:8px;flex:1;justify-content:center;position:relative;overflow:hidden}
.admin-tab::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);transition:left 0.5s}
.admin-tab:hover::before{left:100%}
.admin-tab:hover{background:rgba(255,255,255,0.8);color:#475569;transform:translateY(-1px)}
.admin-tab.active{background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%);color:white;box-shadow:0 4px 12px rgba(59,130,246,0.3);border:1px solid var(--primary-500);transform:translateY(-2px)}
.admin-tab.active i{color:white}
.admin-tab-content{display:none;padding:24px 0}
.admin-tab-content.active{display:block}

.admin-controls{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px;padding:20px;background:linear-gradient(135deg,rgba(239,246,255,0.8) 0%,rgba(219,234,254,0.6) 100%);border-radius:12px;border:1px solid #bfdbfe;box-shadow:0 4px 6px rgba(59,130,246,0.1);backdrop-filter:blur(10px)}
.admin-controls h4{margin:0;color:#1e40af;font-size:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,0.1)}
.admin-filters{display:flex;gap:12px;align-items:center}
.admin-filters .filter-select{padding:12px 16px;border:1px solid #bfdbfe;border-radius:10px;background:linear-gradient(135deg,white 0%,rgba(239,246,255,0.5) 100%);font-weight:600;color:#1e40af;box-shadow:0 2px 4px rgba(59,130,246,0.1);transition:all 0.2s}
.admin-filters .filter-select:hover{box-shadow:0 4px 8px rgba(59,130,246,0.2);transform:translateY(-1px);border-color:#93c5fd}

.admin-settings .setting-group{margin-bottom:32px;padding:24px;background:linear-gradient(135deg,rgba(254,242,242,0.8) 0%,rgba(252,231,243,0.6) 100%);border-radius:12px;border:1px solid #fecaca;box-shadow:0 4px 6px rgba(239,68,68,0.1);backdrop-filter:blur(10px)}
.admin-settings .setting-group:last-child{border-bottom:none;margin-bottom:0}
.admin-settings label{display:block;margin-bottom:12px;font-weight:700;color:#dc2626;font-size:16px;text-shadow:0 1px 2px rgba(0,0,0,0.1)}
.admin-settings textarea{width:100%;padding:14px;border:2px solid #fecaca;border-radius:10px;font-family:inherit;resize:vertical;background:linear-gradient(135deg,white 0%,rgba(254,242,242,0.5) 100%);box-shadow:0 2px 4px rgba(239,68,68,0.1);transition:all 0.2s;font-weight:500}
.admin-settings textarea:focus{border-color:var(--primary-500);box-shadow:0 4px 12px rgba(59,130,246,0.2);outline:none}
.admin-actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}

.user-list-item{display:flex;align-items:center;justify-content:space-between;padding:24px;border:1px solid #e2e8f0;border-radius:16px;margin-bottom:20px;background:linear-gradient(135deg,white 0%,rgba(248,250,252,0.3) 100%);transition:all 0.3s cubic-bezier(0.4,0,0.2,1);box-shadow:0 4px 6px rgba(0,0,0,0.03);position:relative;overflow:hidden}
.user-list-item::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none}
.user-list-item:hover{box-shadow:0 8px 25px rgba(0,0,0,0.1);transform:translateY(-3px);border-color:#cbd5e1}
.user-info{flex:1;position:relative;z-index:1}
.user-info .user-email{font-weight:700;color:#1e293b;margin-bottom:8px;font-size:18px;text-shadow:0 1px 2px rgba(0,0,0,0.1)}
.user-info .user-meta{font-size:14px;color:#64748b;line-height:1.5;font-weight:500}
.user-status{display:inline-block;padding:6px 14px;border-radius:25px;font-size:11px;font-weight:700;margin-left:10px;text-transform:uppercase;letter-spacing:0.8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.user-status.approved{background:linear-gradient(135deg,#dcfce7 0%,#bbf7d0 100%);color:#166534;border:1px solid #86efac}
.user-status.pending{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);color:#92400e;border:1px solid #facc15}
.user-status.admin{background:linear-gradient(135deg,#dbeafe 0%,#bfdbfe 100%);color:#1e40af;border:1px solid #93c5fd}
.user-actions{display:flex;gap:10px;align-items:center;position:relative;z-index:1}

.btn-small{padding:8px 12px;font-size:12px;font-weight:600;border-radius:6px;gap:4px;height:32px;min-width:auto}

.password-reset-modal .modal-content{max-width:500px}
.password-reset-form .form-group{margin-bottom:20px}
.password-reset-form label{display:block;margin-bottom:8px;font-weight:600;color:#374151}
.password-reset-form input{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;background:white;box-shadow:0 1px 2px rgba(0,0,0,0.05)}
.password-reset-form .form-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:24px;padding-top:20px;border-top:1px solid #e5e7eb}

.empty-state, .error-state{text-align:center;padding:40px 20px;color:#64748b}
.empty-state i, .error-state i{font-size:48px;margin-bottom:16px;opacity:0.5}
.empty-state h3, .error-state h3{margin:0 0 8px 0;color:#1e293b;font-size:18px}
.empty-state p, .error-state p{margin:0;font-size:14px}
.btn-icon:hover{background:rgba(0,0,0,0.05);color:var(--neutral-700);transform:none;box-shadow:none}

/* Import View */
.import-header{padding:2rem;border-bottom:1px solid rgba(255,255,255,0.3);background:linear-gradient(135deg,rgba(102,126,234,0.9) 0%,rgba(118,75,162,0.9) 100%);backdrop-filter:blur(20px);color:white;position:relative;overflow:hidden}
.import-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none}
.import-content{padding:2rem}
.import-section{margin-bottom:2rem;padding:2rem;background:rgba(255,255,255,0.8);backdrop-filter:blur(10px);border-radius:var(--border-radius-lg);border:1px solid rgba(255,255,255,0.3);box-shadow:var(--shadow-md);position:relative;overflow:hidden}
.import-section::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none}
.import-section h3{margin-bottom:15px;color:#2d3748;font-size:18px}

.file-input-group{margin-bottom:15px}
.file-input-group label{display:block;margin-bottom:5px;font-weight:600;color:#4a5568}
.file-input{display:block;width:100%;padding:10px;border:2px dashed #cbd5e0;border-radius:6px;background:white;cursor:pointer;transition:all 0.2s ease}
.file-input:hover{border-color:#667eea;background:#f0f4ff}
.import-progress{margin-top:20px;padding:15px;background:#fef3c7;border:1px solid #f59e0b;border-radius:6px;display:none}
.progress-bar{width:100%;height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin:10px 0}
.progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#34d399);width:0%;transition:width 0.3s ease}

.data-preview{margin-top:1rem;padding:1.5rem;background:rgba(255,255,255,0.9);backdrop-filter:blur(10px);border:1px solid var(--neutral-200);border-radius:var(--border-radius-lg);width:100%;box-sizing:border-box;box-shadow:var(--shadow-sm)}
.import-results{text-align:center}
.import-results h4{color:#2d3748;margin-bottom:20px;font-size:20px}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px}
.stat-item{background:#f8fafc;padding:15px;border-radius:6px;border-left:3px solid #667eea}
.stat-item strong{display:block;font-size:24px;color:#667eea;margin-bottom:5px}
.preview-table{margin:1.5rem 0;overflow-x:auto;border-radius:var(--border-radius-lg);background:rgba(255,255,255,0.5);backdrop-filter:blur(5px);padding:0.5rem}
.data-table{width:100%;border-collapse:collapse;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);border-radius:var(--border-radius-lg);overflow:hidden;box-shadow:var(--shadow-sm);border:1px solid var(--neutral-200)}
.data-table th,.data-table td{padding:0.875rem 1rem;text-align:left;border-bottom:1px solid var(--neutral-200);font-size:0.875rem}
.data-table th{background:linear-gradient(135deg,var(--primary-50) 0%,rgba(248,250,252,0.9) 100%);font-weight:700;color:var(--primary-700);text-transform:uppercase;letter-spacing:0.025em;font-size:0.75rem}
.data-table tr:hover{background:rgba(14,165,233,0.05);transition:background 0.2s ease}
.data-table tr:last-child td{border-bottom:none}
.import-actions{margin-top:20px;display:flex;gap:15px;justify-content:center}

/* File Upload Styles */
.file-upload{border:2px dashed var(--neutral-300);border-radius:var(--border-radius-lg);padding:2rem;text-align:center;background:rgba(255,255,255,0.8);backdrop-filter:blur(10px);transition:all 0.3s cubic-bezier(0.4,0,0.2,1);cursor:pointer;position:relative;overflow:hidden}
.file-upload::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(102,126,234,0.05) 0%,rgba(118,75,162,0.05) 100%);opacity:0;transition:opacity 0.3s ease;pointer-events:none}
.file-upload:hover{border-color:var(--primary-500);background:rgba(102,126,234,0.05);transform:translateY(-2px);box-shadow:var(--shadow-md)}
.file-upload:hover::before{opacity:1}
.file-upload i{font-size:3rem;color:var(--primary-500);margin-bottom:1rem;display:block}
.file-upload p{margin:0 0 0.5rem 0;font-weight:600;color:var(--neutral-700);font-size:1.1rem}
.file-upload small{color:var(--neutral-500);font-size:0.875rem}
.file-upload input[type="file"]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}

/* CSV Preview Styles */
/* Import preview styles */
.import-preview{max-width:100%;margin:0 auto;padding:1.5rem;background:white;border-radius:var(--border-radius);box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.import-preview h4{margin:0 0 1rem 0;color:var(--primary-700);font-size:1.25rem;font-weight:700}
.preview-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}
.stat-item{background:var(--neutral-50);padding:0.75rem;border-radius:6px;border:1px solid var(--neutral-200);text-align:center;font-size:0.875rem}
.processing-note{background:#f0f9ff;color:#0369a1;padding:0.5rem 1rem;border-radius:4px;border-left:4px solid #0369a1;margin-bottom:1rem;font-size:0.875rem}
.csv-preview{background:#f8fafc;border:1px solid var(--neutral-200);border-radius:6px;padding:1rem;margin:1rem 0;max-height:400px;overflow-y:auto}
.csv-preview pre{margin:0;font-family:monospace;font-size:0.75rem;line-height:1.4;white-space:pre-wrap;word-break:break-all}
.metadata-indicator{background:#fef3c7;color:#92400e;padding:0.5rem 1rem;border-radius:4px;border-left:4px solid #f59e0b;margin-bottom:1rem;font-size:0.875rem;font-weight:600}
.import-actions{display:flex;gap:1rem;justify-content:center;margin-top:1.5rem}

/* Legacy CSV preview styles for compatibility */
.csv-preview-container{max-width:100%;margin:0}
.csv-preview-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid var(--primary-200)}
.csv-preview-header h4{margin:0;color:var(--primary-700);font-size:1.25rem;font-weight:700}
.csv-file-info{background:rgba(102,126,234,0.1);padding:0.75rem 1rem;border-radius:var(--border-radius);border:1px solid var(--primary-200);font-size:0.875rem;line-height:1.5}
.csv-file-info strong{color:var(--primary-700)}
.csv-file-info small{display:block;margin-top:0.25rem;font-weight:500}
.csv-file-info small i{margin-right:0.25rem}
.csv-file-info br + small{margin-top:0.125rem}
.csv-content-preview{margin-bottom:1.5rem}
.csv-content-preview h5{margin-bottom:0.75rem;color:var(--neutral-700);font-size:1rem;font-weight:600}

.csv-skipped-notice{display:flex;align-items:center;gap:0.5rem;margin-bottom:1rem;padding:0.75rem;background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.2);border-radius:var(--border-radius-sm);font-size:0.875rem}
.csv-skipped-notice i{color:var(--warning-600);flex-shrink:0}
.csv-skipped-notice small{color:var(--neutral-700);line-height:1.4;margin:0}
.csv-skipped-notice strong{color:var(--neutral-800)}
.csv-cleaned-notice{display:flex;align-items:center;gap:0.5rem;margin-bottom:1rem;padding:0.75rem;background:rgba(5,150,105,0.1);border:1px solid rgba(5,150,105,0.2);border-radius:var(--border-radius-sm);font-size:0.875rem}
.csv-cleaned-notice i{color:var(--success-600);flex-shrink:0}
.csv-cleaned-notice small{color:var(--neutral-700);line-height:1.4;margin:0}
.csv-cleaned-notice strong{color:var(--neutral-800)}
.csv-warning-notice{display:flex;align-items:center;gap:0.5rem;margin-bottom:1rem;padding:0.75rem;background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3);border-radius:var(--border-radius-sm);font-size:0.875rem}
.csv-warning-notice i{color:var(--warning-600);flex-shrink:0}
.csv-warning-notice small{color:var(--neutral-700);line-height:1.4;margin:0}
.csv-warning-notice strong{color:var(--neutral-800)}
.csv-text{background:#f8f9fa;border:1px solid var(--neutral-300);border-radius:var(--border-radius);padding:1rem;font-family:'SF Mono','Monaco','Inconsolata','Roboto Mono',monospace;font-size:0.8125rem;line-height:1.4;color:var(--neutral-800);max-height:400px;overflow-y:auto;white-space:pre-wrap;word-break:break-all;margin:0}

.csv-preview-actions{background:rgba(248,250,252,0.8);border:1px solid var(--neutral-200);border-radius:var(--border-radius);padding:1.5rem}
.csv-info-note{display:flex;align-items:flex-start;gap:0.5rem;margin-bottom:1rem;padding:0.75rem;background:rgba(14,165,233,0.1);border:1px solid rgba(14,165,233,0.2);border-radius:var(--border-radius-sm)}
.csv-info-note i{color:var(--primary-500);margin-top:0.125rem;flex-shrink:0}
.csv-info-note small{color:var(--neutral-600);line-height:1.4;margin:0}
.csv-action-buttons{display:flex;gap:1rem;justify-content:flex-end;align-items:center}

/* Staffing Issues Panel - moved to end of file */

/* Modal Styles */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);backdrop-filter:blur(10px);z-index:10000;animation:fadeIn 0.4s cubic-bezier(0.4,0,0.2,1)}
.modal.active{display:flex;align-items:center;justify-content:center}
.modal.active ~ .staffing-issues-panel{display:none}
.modal-content{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:var(--border-radius-xl);width:90%;max-width:600px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;animation:slideIn 0.4s cubic-bezier(0.4,0,0.2,1);box-shadow:var(--shadow-xl);border:1px solid rgba(255,255,255,0.3);position:relative;z-index:10001;margin:20px;padding-bottom:0}
#adminModal .modal-content{max-width:900px;max-height:85vh;overflow-y:auto}
.modal-content[style*="max-width: 900px"]{max-width:900px !important;width:95% !important;max-height:90vh !important;margin:20px !important}
.modal-content::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.03) 0%,rgba(255,255,255,0.01) 100%);pointer-events:none;z-index:-1}

.modal-header{padding:2rem;border-bottom:1px solid rgba(255,255,255,0.3);display:flex;justify-content:space-between;align-items:center;background:rgba(248,250,252,0.8);backdrop-filter:blur(10px);position:relative}
.modal-body{padding:1.5rem;flex:1;overflow-y:auto;min-height:0}
.modal-header h3{margin:0;color:var(--neutral-800);font-size:1.5rem;font-weight:700;letter-spacing:-0.025em}

/* Modal Footer Styles */
.modal-footer{padding:1.5rem 2rem;border-top:1px solid rgba(255,255,255,0.3);background:rgba(248,250,252,0.8);backdrop-filter:blur(10px);display:flex;gap:1rem;justify-content:flex-end;align-items:center;margin-top:auto;position:relative;z-index:1}
.modal-footer .btn{margin:0;min-width:120px}

.form-group{margin-bottom:1.75rem}
.form-row{display:flex;gap:1rem;margin-bottom:1.75rem}
.form-row .form-group{flex:1;margin-bottom:0}
.form-group label{display:block;margin-bottom:0.5rem;font-weight:600;color:var(--neutral-700);font-size:0.875rem;letter-spacing:0.025em}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:0.875rem 1rem;border:2px solid var(--neutral-200);border-radius:var(--border-radius-lg);font-size:0.875rem;background:rgba(255,255,255,0.9);backdrop-filter:blur(10px);transition:all 0.2s cubic-bezier(0.4,0,0.2,1);color:var(--neutral-800);font-weight:400}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary-500);box-shadow:0 0 0 3px rgba(14,165,233,0.1);background:white}
.form-group input:hover,.form-group select:hover,.form-group textarea:hover{border-color:var(--neutral-300)}
.form-group textarea{resize:vertical;min-height:120px;line-height:1.6}

.form-actions{display:flex;gap:1rem;justify-content:flex-end;padding-top:1.5rem;margin-top:2rem;border-top:1px solid rgba(255,255,255,0.3);background:rgba(248,250,252,0.5);backdrop-filter:blur(10px);padding:1.5rem 0}
.color-picker{display:flex;gap:12px;flex-wrap:wrap;padding:0.5rem 0;justify-content:flex-start}
.color-option{width:30px;height:30px;border-radius:50%;cursor:pointer;border:2px solid #e2e8f0;transition:all 0.2s ease}
.color-option:hover{transform:scale(1.1)}
.color-picker input[type="radio"]{display:none}
.color-picker input[type="radio"]:checked + .color-option{border-color:#667eea;box-shadow:0 0 0 2px rgba(102,126,234,0.3)}

/* Priority badge styles */
.priority-badge{display:inline-block;padding:1px 4px;border-radius:3px;font-size:9px;font-weight:600;color:white;text-align:center;min-width:50px;max-width:120px;text-transform:uppercase;letter-spacing:0.3px;border:1px solid transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all 0.2s ease}
.priority-badge-small{display:inline-block;padding:2px 6px;border-radius:4px;font-size:10px;font-weight:600;color:white;text-align:center;min-width:18px;height:16px;line-height:12px;transition:all 0.2s ease;border:1px solid transparent;vertical-align:middle}
.priority-a{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);border-color:#dc2626}
.priority-b{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);border-color:#d97706}
.priority-c{background:linear-gradient(135deg,#10b981 0%,#059669 100%);border-color:#059669}
.priority-none{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);border-color:#4b5563}


/* Priority quick-set buttons */
.priority-quick-set{display:flex;gap:4px;margin-right:12px;align-items:center}
.priority-btn{width:28px;height:28px;border-radius:var(--border-radius);border:1px solid #d1d5db;background:#ffffff;color:#6b7280;font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;text-align:center;line-height:1;box-shadow:var(--shadow-sm)}
.priority-btn:hover{transform:scale(1.05);box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.priority-btn.active{transform:scale(1.1);box-shadow:0 0 0 2px rgba(102,126,234,0.3)}
.priority-btn.priority-a{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);border-color:#dc2626;color:white}
.priority-btn.priority-b{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);border-color:#d97706;color:white}
.priority-btn.priority-c{background:linear-gradient(135deg,#10b981 0%,#059669 100%);border-color:#059669;color:white}
.priority-btn.priority-none{background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%);border-color:#4b5563;color:white}

/* Empty State */
.empty-state{text-align:center;padding:40px;color:#718096}
.empty-state i{font-size:48px;margin-bottom:16px;color:#cbd5e0}
.empty-state h3{margin-bottom:8px;color:#4a5568}
.empty-state p{margin-bottom:20px}

/* Responsive Design */
@media (max-width: 768px) {
    .container{padding:10px}
    .header h1{font-size:1.8em}
    .navigation-tabs{justify-content:center}
    .nav-tab{padding:8px 12px;font-size:12px}
    .calendar-controls-row{flex-direction:column;align-items:stretch}
    .calendar-actions{justify-content:center}
    .matrix-cell{padding:0.5rem 0.25rem;font-size:0.75rem;min-height:2rem;line-height:1.1}
    .matrix-cell.employee-name{padding-left:0.75rem;font-size:0.75rem}
    .matrix-cell.header-cell{font-size:0.6875rem;padding:0.5rem 0.25rem}
    .matrix-cell.job-role{font-size:0.625rem}
    .schedule-matrix{grid-template-columns:110px 85px repeat(auto-fit,minmax(55px,1fr));min-width:750px}
    .calendar-header{padding:1rem}
    .calendar-controls-row{gap:1rem;margin-bottom:0.75rem}
    .data-item{flex-direction:column;align-items:flex-start;gap:10px}
    .data-actions{align-self:flex-end}
    .modal-content{width:95%;margin:10px}
    .stats-grid{grid-template-columns:repeat(2,1fr)}
}

@media (max-width: 480px) {
    .stats-grid{grid-template-columns:1fr}
    .import-actions{flex-direction:column}
    .form-actions{flex-direction:column}
    .color-picker{justify-content:center}
}

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideIn{from{opacity:0;transform:translateY(-30px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}

/* Calendar container - completely separate from main content */
.calendar-container{display:none!important;visibility:hidden!important;opacity:0!important;height:0!important;width:0!important;overflow:hidden!important;position:absolute!important;left:-10000px!important;top:-10000px!important;pointer-events:none!important;z-index:-999!important}
.calendar-container.active{display:block!important;visibility:visible!important;opacity:1!important;height:auto!important;width:100%!important;min-width:100%!important;position:static!important;left:auto!important;top:auto!important;pointer-events:auto!important;z-index:auto!important;overflow-x:visible!important}

/* Staffing Issues Floating Panel */
.staffing-issues-panel{position:fixed;top:20px;right:20px;width:380px !important;background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.3);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-xl);z-index:100;transition:height 0.3s cubic-bezier(0.4,0,0.2,1);overflow:hidden;cursor:grab;left:auto;margin:0;padding:0;min-width:380px !important;max-width:380px !important}
.staffing-issues-panel.collapsed{height:70px;width:380px !important;min-width:380px !important;max-width:380px !important;border-radius:var(--border-radius-lg)}
.staffing-issues-panel:not(.collapsed){height:auto;max-height:calc(100vh - 40px);min-height:200px;width:380px !important;min-width:380px !important;max-width:380px !important}
.staffing-issues-panel.collapsed .panel-content{display:none}
.staffing-issues-panel .panel-content{display:none;max-height:calc(100vh - 120px);overflow-y:auto;padding:0;width:100%;box-sizing:border-box}
.staffing-issues-panel:not(.collapsed) .panel-content{display:block}
.staffing-issues-panel.collapsed .panel-header{padding:1rem 1.5rem;border-radius:var(--border-radius-lg)}
.staffing-issues-panel.collapsed .panel-title{font-size:1rem}
.staffing-issues-panel.collapsed .panel-controls{gap:0.25rem}
.staffing-issues-panel.collapsed .btn-icon{padding:0.5rem;font-size:0.875rem}
.staffing-issues-panel.collapsed.has-issues .panel-title i{color:var(--error-500);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.6}}
.staffing-issues-panel.dragging{cursor:grabbing!important;transition:none!important;box-shadow:0 20px 40px rgba(0,0,0,0.2);transform:rotate(1deg)}
.panel-header{background:linear-gradient(135deg,rgba(239,68,68,0.9) 0%,rgba(220,38,38,0.9) 100%);color:white;padding:1rem 1.5rem;display:flex;justify-content:space-between;align-items:center;position:relative;overflow:hidden;cursor:grab;user-select:none}
.panel-header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 100%);pointer-events:none}
.panel-header.dragging{cursor:grabbing}
.panel-title{display:flex;align-items:center;gap:0.5rem;font-weight:600;font-size:1rem}
.panel-title i{color:rgba(255,255,255,0.3);transition:color 0.3s ease}
#staffingIssuesPanel.has-issues .panel-header{background:linear-gradient(135deg,rgba(239,68,68,0.9) 0%,rgba(220,38,38,0.9) 100%)}
#staffingIssuesPanel.has-issues .panel-title i{color:white !important;font-weight:bold;text-shadow:0 0 8px rgba(255,255,255,0.8)}
#staffingIssuesPanel.collapsed.has-issues .panel-title i{animation:pulse 2s infinite}

/* Green header for staffing issues panel (default state) */
#staffingIssuesPanel .panel-header{background:linear-gradient(135deg,rgba(16,185,129,0.9) 0%,rgba(5,150,105,0.9) 100%)}
.panel-controls{display:flex;gap:0.25rem}
.panel-controls .btn-icon{color:rgba(255,255,255,0.8);padding:0.5rem;font-size:0.875rem}
.panel-controls .btn-icon:hover{background:rgba(255,255,255,0.1);color:white}
/* Issues filter buttons */
.issues-filters{padding:0.75rem 0.75rem 0.375rem 0.75rem;border-bottom:1px solid rgba(239,68,68,0.1);background:rgba(248,250,252,0.5);width:100%;box-sizing:border-box;overflow:hidden}

/* Issue filter button specific styling to match badge colors - must come AFTER general rules */
.issues-filters .filter-toggles{display:flex;gap:0.375rem;justify-content:center;flex-wrap:wrap;width:100%}
.issues-filters .filter-btn{display:flex;align-items:center;gap:0.25rem;padding:0.375rem 0.5rem;background:rgba(255,255,255,0.8);border:1px solid rgba(239,68,68,0.2);border-radius:var(--border-radius);color:var(--neutral-600);font-size:0.75rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;white-space:nowrap;flex-shrink:0;min-width:0}
.issues-filters .filter-btn:hover{background:rgba(255,255,255,0.9);border-color:rgba(239,68,68,0.3);color:var(--neutral-700)}
/* Override the general active state for issue filters */
.issues-filters .filter-btn.active:not([data-filter]){background:rgba(239,68,68,0.1);border-color:rgba(239,68,68,0.4);color:var(--error-600);font-weight:600}
.issues-filters .filter-btn.active:not([data-filter]) i{color:var(--error-500)}

/* PSM Guide footnote styling */
.pms-guide-footnote {
    margin-top: 1rem;
    padding: 0.75rem;
    background: rgba(248, 250, 252, 0.8);
    border-radius: var(--border-radius);
    border: 1px solid rgba(226, 232, 240, 0.5);
    font-size: 0.875rem;
    color: var(--neutral-600);
    line-height: 1.4;
}

.pms-guide-footnote small {
    font-style: italic;
    opacity: 0.9;
}

/* Issue filter button specific styling to match badge colors - HIGHEST PRIORITY */
.issues-filters .filter-btn[data-filter="error"]{border-color:#ef4444 !important;color:#dc2626 !important}
.issues-filters .filter-btn[data-filter="error"]:hover{border-color:#dc2626 !important;background:#fef2f2 !important;color:#b91c1c !important}
.issues-filters .filter-btn[data-filter="error"].active{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%) !important;border-color:#dc2626 !important;color:white !important;box-shadow:0 1px 3px rgba(239,68,68,0.3) !important}
.issues-filters .filter-btn[data-filter="error"].active:hover{background:linear-gradient(135deg,#dc2626 0%,#b91c1c 100%) !important;border-color:#b91c1c !important}

.issues-filters .filter-btn[data-filter="warning"]{border-color:#eab308 !important;color:#ca8a04 !important}
.issues-filters .filter-btn[data-filter="warning"]:hover{border-color:#ca8a04 !important;background:#fefce8 !important;color:#a16207 !important}
.issues-filters .filter-btn[data-filter="warning"].active{background:linear-gradient(135deg,#eab308 0%,#ca8a04 100%) !important;border-color:#ca8a04 !important;color:white !important;box-shadow:0 1px 3px rgba(234,179,8,0.3) !important}
.issues-filters .filter-btn[data-filter="warning"].active:hover{background:linear-gradient(135deg,#ca8a04 0%,#a16207 100%) !important;border-color:#a16207 !important}

.issues-filters .filter-btn[data-filter="info"]{border-color:#3b82f6 !important;color:#2563eb !important}
.issues-filters .filter-btn[data-filter="info"]:hover{border-color:#2563eb !important;background:#eff6ff !important;color:#1d4ed8 !important}
.issues-filters .filter-btn[data-filter="info"].active{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%) !important;border-color:#2563eb !important;color:white !important;box-shadow:0 1px 3px rgba(59,130,246,0.3) !important}
.issues-filters .filter-btn[data-filter="info"].active:hover{background:linear-gradient(135deg,#2563eb 0%,#1d4ed8 100%) !important;border-color:#1d4ed8 !important}
.issues-filters .filter-btn i{font-size:0.75rem;transition:color 0.2s ease}

.issues-list{padding:0.75rem;width:100%;box-sizing:border-box;overflow:hidden}
.issue-item{background:rgba(255,255,255,0.8);border:1px solid rgba(239,68,68,0.2);border-radius:var(--border-radius);padding:0.75rem;margin-bottom:0.5rem;transition:all 0.2s ease;position:relative;overflow:hidden;width:100%;box-sizing:border-box;word-wrap:break-word;word-break:break-word}
.issue-item::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}
.issue-item:hover{box-shadow:0 4px 12px rgba(239,68,68,0.15);transform:translateY(-1px)}
.issue-item.under-staffed{border-color:rgba(239,68,68,0.3)}
.issue-item.under-staffed::before{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}
.issue-item.over-staffed{border-color:rgba(245,158,11,0.3)}
.issue-item.over-staffed::before{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}

/* Severity-based styling for rule violations */
.issue-item.severity-error{border-color:rgba(239,68,68,0.4)}
.issue-item.severity-error::before{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}
.issue-item.severity-warning{border-color:rgba(245,158,11,0.4)}
.issue-item.severity-warning::before{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}
.issue-item.severity-info{border-color:rgba(59,130,246,0.4)}
.issue-item.severity-info::before{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%)}

/* Issue header styling */
.issue-header{display:flex;align-items:center;gap:0.375rem;margin-bottom:0.375rem;flex-wrap:wrap;width:100%;box-sizing:border-box;overflow:hidden}
.issue-header .rule-name{font-weight:600;color:var(--neutral-700);font-size:0.8rem;flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.severity-badge{display:inline-block;padding:0.125rem 0.25rem;border-radius:var(--border-radius-sm);font-size:0.65rem;font-weight:600;text-transform:uppercase;letter-spacing:0.025em}
.severity-badge.severity-error{background:rgba(239,68,68,0.1);color:var(--error-600);border:1px solid rgba(239,68,68,0.2)}
.severity-badge.severity-warning{background:rgba(245,158,11,0.1);color:var(--warning-600);border:1px solid rgba(245,158,11,0.2)}
.severity-badge.severity-info{background:rgba(59,130,246,0.1);color:var(--info-600);border:1px solid rgba(59,130,246,0.2)}
.issue-date{font-weight:700;font-size:0.95rem;color:var(--primary-700);margin-bottom:0.375rem;display:flex;align-items:center;gap:0.375rem}
.issue-date i{color:#ef4444;font-size:0.8rem}
.issue-details{color:var(--neutral-600);font-size:0.8rem;line-height:1.3;width:100%;box-sizing:border-box;overflow:hidden;word-wrap:break-word;word-break:break-word}
.issue-details strong{color:var(--neutral-800)}
.no-issues{padding:1.5rem;text-align:center;color:var(--neutral-500)}
.no-issues i{font-size:2rem;color:#10b981;margin-bottom:0.75rem;display:block}
.no-issues p{margin:0;font-weight:500;font-size:0.9rem}
.modal.active ~ .staffing-issues-panel{display:none}

/* ===== RULE BUILDER STYLES ===== */

/* Rule Builder Modal */
.rule-builder-section {
    background: linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.8) 100%);
    border: 1px solid rgba(226, 232, 240, 0.6);
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    backdrop-filter: blur(10px);
}

.rule-builder-section h4 {
    color: var(--neutral-800);
    font-size: 1.125rem;
    font-weight: 700;
    margin: 0 0 1rem 0;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--primary-500);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.rule-builder-section h4::before {
    content: '';
    width: 4px;
    height: 20px;
    background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
    border-radius: 2px;
}

/* Form Groups in Rule Builder */
.rule-builder-section .form-group {
    margin-bottom: 0.75rem;
}

.rule-builder-section .form-group:last-child {
    margin-bottom: 0;
}

.rule-builder-section label {
    display: block;
    font-weight: 600;
    color: var(--neutral-700);
    margin-bottom: 0.25rem;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.rule-builder-section input[type="text"],
.rule-builder-section input[type="number"],
.rule-builder-section textarea,
.rule-builder-section select {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid rgba(226, 232, 240, 0.8);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.9);
    color: var(--neutral-800);
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.4;
    min-height: 36px;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.rule-builder-section input[type="text"]:focus,
.rule-builder-section input[type="number"]:focus,
.rule-builder-section textarea:focus,
.rule-builder-section select:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
    background: rgba(255, 255, 255, 1);
}

.rule-builder-section textarea {
    resize: vertical;
    min-height: 80px;
    font-family: inherit;
    line-height: 1.5;
}

/* Mode Toggle */
.mode-toggle-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    border: 1px solid rgba(226, 232, 240, 0.6);
}

.mode-toggle {
    position: relative;
    display: flex;
    align-items: center;
}

.mode-toggle input[type="checkbox"] {
    display: none;
}

.toggle-track {
    width: 60px;
    height: 32px;
    background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
    border-radius: 16px;
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.toggle-thumb {
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 50%;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.mode-toggle input[type="checkbox"]:checked + .toggle-track {
    background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
}

.mode-toggle input[type="checkbox"]:checked + .toggle-track .toggle-thumb {
    transform: translateX(28px);
}

.mode-display {
    flex: 1;
}

.current-mode {
    font-weight: 700;
    color: var(--neutral-800);
    font-size: 1rem;
}

.form-help {
    color: var(--neutral-600);
    font-size: 0.875rem;
    margin-top: 0.5rem;
    line-height: 1.4;
}

/* Condition Sections */
.condition-section {
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(226, 232, 240, 0.5);
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 1rem;
}

.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(226, 232, 240, 0.6);
}

.section-title {
    font-weight: 700;
    color: var(--neutral-800);
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.section-title i {
    color: var(--primary-500);
    font-size: 1.125rem;
}

/* Employee Filters */
.employee-filters-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.employee-filter-group {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(226, 232, 240, 0.6);
    border-radius: 6px;
    padding: 0.75rem;
}

.employee-filter-group label {
    font-size: 0.6875rem;
    font-weight: 600;
    color: var(--neutral-600);
    margin-bottom: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.employee-filter-group select {
    width: 100%;
    padding: 0.375rem 0.5rem;
    border: 1px solid rgba(226, 232, 240, 0.8);
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.9);
    font-size: 0.8125rem;
    color: var(--neutral-700);
    line-height: 1.4;
    min-height: 32px;
    height: auto;
}

/* Time Range Selector */
.time-range-selector {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 1rem;
    align-items: end;
    margin-bottom: 1rem;
}

.time-range-selector .form-group {
    margin-bottom: 0;
}

.time-range-separator {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 40px;
    color: var(--neutral-500);
    font-weight: 600;
    font-size: 0.875rem;
}

/* Rule Actions */
.rule-actions {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    margin-top: 1rem;
}

.rule-actions .btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.rule-actions .btn-secondary {
    background: rgba(107, 114, 128, 0.1);
    color: var(--neutral-700);
    border: 1px solid rgba(107, 114, 128, 0.2);
}

.rule-actions .btn-secondary:hover {
    background: rgba(107, 114, 128, 0.2);
    transform: translateY(-1px);
}

.rule-actions .btn-danger {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border: none;
}

.rule-actions .btn-danger:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

/* Condition Row Layout */
.condition-row {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: nowrap;
    margin-bottom: 0.75rem;
}

.condition-row .form-select,
.condition-row .form-input {
    flex: 1;
    min-width: 0;
    padding: 0.5rem 0.75rem;
    border: 1px solid rgba(226, 232, 240, 0.8);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.9);
    font-size: 0.875rem;
    line-height: 1.4;
    min-height: 36px;
}

.condition-row #summaryValue {
    flex: 0 0 80px;
    max-width: 80px;
}

.condition-row .btn-icon {
    flex: 0 0 auto;
    min-width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 6px;
    background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
    color: white;
    border: 1px solid #cbd5e1;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.condition-row .btn-icon:hover {
    background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);
    border-color: #94a3b8;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* Select Elements Fix */
.rule-builder-section select,
.employee-filter-group select,
.condition-section select {
    line-height: 1.4 !important;
    min-height: 36px !important;
    height: auto !important;
    padding: 0.5rem 0.75rem !important;
    vertical-align: middle !important;
    display: flex !important;
    align-items: center !important;
}

.employee-filter-group select {
    min-height: 32px !important;
    padding: 0.375rem 0.5rem !important;
}

.rule-builder-section select option,
.employee-filter-group select option,
.condition-section select option {
    padding: 0.375rem 0.5rem !important;
    line-height: 1.4 !important;
    height: auto !important;
    min-height: 28px !important;
}

/* Advanced Mode */
.advanced-mode-container {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(226, 232, 240, 0.6);
    border-radius: 12px;
    padding: 1.25rem;
    margin-top: 1rem;
}

.advanced-mode-container textarea {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875rem;
    line-height: 1.5;
    background: rgba(248, 250, 252, 0.8);
    border: 1px solid rgba(226, 232, 240, 0.8);
}

/* Add New Rule Button */
#addNewRuleBtn,
#addRuleBtn {
    background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%) !important;
    color: white !important;
    border: 1px solid #cbd5e1 !important;
}

#addNewRuleBtn:hover,
#addRuleBtn:hover {
    background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%) !important;
    border-color: #94a3b8 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Template Cards */
.template-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.template-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);
    border: 1px solid rgba(226, 232, 240, 0.6);
    border-radius: 12px;
    padding: 1.25rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.05);
}

.template-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
    border-color: var(--primary-300);
}

.template-card h4 {
    color: var(--neutral-800);
    font-size: 1rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
}

.template-card p {
    color: var(--neutral-600);
    font-size: 0.875rem;
    margin: 0;
    line-height: 1.4;
}

/* Responsive Design for Rule Builder */
@media (max-width: 768px) {
    .rule-builder-section {
        padding: 1rem;
        margin-bottom: 1rem;
    }
    
    .employee-filters-container {
        grid-template-columns: 1fr;
    }
    
    .time-range-selector {
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }
    
    .time-range-separator {
        height: auto;
        padding: 0.5rem 0;
    }
    
    .rule-actions {
        flex-direction: column;
    }
    
    .rule-actions .btn {
        width: 100%;
        justify-content: center;
    }
    
    .template-list {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .modal-content {
        width: 95% !important;
        max-width: 95% !important;
        margin: 10px;
    }
    
    .rule-builder-section {
        padding: 0.75rem;
    }
    
    .mode-toggle-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
}

/* ===== SHIFT EDITING STYLES ===== */

/* Shift Cell Interactions */
.shift-cell{cursor:pointer;position:relative}
.shift-cell:hover{background-color:#e2e8f0 !important;border:2px solid #4f46e5 !important;z-index:20}
.shift-cell.shift-hover{box-shadow:0 0 8px rgba(79,70,229,0.4)}
.shift-cell.shift-changed{animation:pulse-changed 2s ease-in-out;animation-iteration-count:3}
.shift-cell.off-shift{color:#6b7280;font-style:italic}

/* Context Menu Styles */
.shift-context-menu{position:fixed;background:white;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04);z-index:1000;min-width:250px;max-width:300px;overflow:hidden}
.shift-context-menu::before{content:'';position:absolute;top:-6px;left:20px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid white;z-index:1}
.shift-context-menu::after{content:'';position:absolute;top:-7px;left:20px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #d1d5db;z-index:0}

.context-menu-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#f9fafb;border-bottom:1px solid #e5e7eb}
.context-menu-title{font-size:14px;font-weight:600;color:#374151}
.context-menu-close{background:none;border:none;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:background-color 0.15s ease}
.context-menu-close:hover{background:#e5e7eb;color:#374151}

.context-menu-content{padding:8px 0}
.context-menu-section{padding:8px 16px}
.context-menu-label{font-size:12px;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}
.context-menu-divider{height:1px;background:#e5e7eb;margin:4px 0}

/* Custom Shift Input */
.custom-shift-input-container{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.custom-shift-input{flex:1;padding:8px 12px;border:1px solid #d1d5db;border-radius:4px;font-size:13px;color:#374151;background:white}
.custom-shift-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,0.1)}
.add-custom-shift-btn{background:#10b981;border:none;border-radius:4px;padding:8px 12px;cursor:pointer;color:white;font-size:13px;display:flex;align-items:center;gap:4px;transition:background-color 0.15s ease}
.add-custom-shift-btn:hover{background:#059669}
.add-custom-shift-btn i{font-size:11px}

/* Shift Options */
.shift-options{display:flex;flex-direction:column;gap:2px;max-height:150px;overflow-y:auto}
.shift-option-btn{display:flex;align-items:center;gap:8px;width:100%;padding:8px 12px;background:none;border:none;border-radius:4px;cursor:pointer;text-align:left;font-size:13px;color:#374151;transition:all 0.15s ease}
.shift-option-btn:hover{background:#f3f4f6}
.shift-option-btn.active{background:#dbeafe;border:1px solid #3b82f6;color:#1d4ed8}
.shift-option-color{display:inline-block;width:12px;height:12px;border-radius:2px;border:1px solid rgba(0,0,0,0.1)}
.shift-option-name{flex:1;font-weight:500}

/* Context Menu Buttons */
.context-menu-btn{display:flex;align-items:center;gap:8px;width:100%;padding:10px 16px;background:none;border:none;border-radius:4px;cursor:pointer;text-align:left;font-size:13px;color:#374151;transition:all 0.15s ease;margin:2px 0}
.context-menu-btn:hover{background:#f3f4f6}
.context-menu-btn:disabled{cursor:not-allowed;opacity:0.5}
.context-menu-btn i{font-size:12px;width:14px;text-align:center}

.context-menu-btn-danger{color:#dc2626}
.context-menu-btn-danger:hover{background:#fef2f2;color:#b91c1c}

/* Base shift cell styling */
.matrix-cell.shift-cell {
    color: var(--neutral-800);
}

/* Shift difference highlighting - alternating dashed border with white */
.matrix-cell.shift-cell.shift-deleted { 
    border: 2px solid transparent; 
    border-image: repeating-linear-gradient(45deg, #ef4444 0px, #ef4444 3px, #ffffff 3px, #ffffff 5px) 1;
    box-shadow: inset 0 0 0 1px #ffffff !important;
}
.matrix-cell.shift-cell.shift-new { 
    border: 2px solid transparent; 
    border-image: repeating-linear-gradient(45deg, #3b82f6 0px, #3b82f6 3px, #ffffff 3px, #ffffff 5px) 1;
    box-shadow: inset 0 0 0 1px #ffffff !important;
}
.matrix-cell.shift-cell.shift-changed { 
    border: 2px solid transparent; 
    border-image: repeating-linear-gradient(45deg, #10b981 0px, #10b981 3px, #ffffff 3px, #ffffff 5px) 1;
    box-shadow: inset 0 0 0 1px #ffffff !important;
}


/* Shift filtering mode - show only changed shifts */
.filtering-mode .matrix-cell.shift-cell:not(.shift-deleted):not(.shift-new):not(.shift-changed) {
    opacity: 0.2 !important;
    background-color: #f9fafb !important;
}

.filtering-mode .matrix-cell.shift-cell.shift-deleted,
.filtering-mode .matrix-cell.shift-cell.shift-new,
.filtering-mode .matrix-cell.shift-cell.shift-changed {
    opacity: 1 !important;
}

/* Shift filtering states */
.shift-unchanged { opacity: 0.3 !important; transition: opacity 0.3s ease; }
.snapshot-badge.filtering { 
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
    border-color: #d97706 !important;
    color: white !important;
}

/* Animations */
@keyframes fadeInScale{from{opacity:0;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}
@keyframes pulse-changed{0%,100%{transform:scale(1);border-color:#10b981}50%{transform:scale(1.05);border-color:#059669}}

/* Charge Filter Button Styling */
.charge-filter-btn {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%) !important;
    border: 1px solid #f3e8ff !important;
    color: #a78baf !important;
    font-weight: 500 !important;
    opacity: 0.6 !important;
}

.charge-filter-btn:hover {
    background: linear-gradient(135deg, #fde68a 0%, #fcd34d 100%) !important;
    border-color: #f59e0b !important;
    color: #92400e !important;
    opacity: 0.8 !important;
}

.charge-filter-btn.active {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%) !important;
    border-color: #d97706 !important;
    color: #92400e !important;
    font-weight: 600 !important;
    opacity: 1 !important;
    box-shadow: 0 2px 4px rgba(217, 119, 6, 0.3) !important;
}

/* Activity Log Styles */
.activity-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #e5e7eb;
}

.activity-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.filter-select {
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    background: white;
    font-size: 14px;
    min-width: 150px;
}

.activity-stats {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.stat-card {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    padding: 12px;
    text-align: center;
}

.stat-value {
    font-size: 24px;
    font-weight: bold;
    color: #1f2937;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 12px;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.activity-feed {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    max-height: 600px;
    overflow-y: auto;
}

.activity-item {
    padding: 12px 16px;
    border-bottom: 1px solid #f1f5f9;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    transition: background-color 0.2s;
}

.activity-item:hover {
    background-color: #f8fafc;
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: white;
    flex-shrink: 0;
}

.activity-icon.create { background: #10b981; }
.activity-icon.update { background: #3b82f6; }
.activity-icon.delete { background: #ef4444; }
.activity-icon.assign { background: #8b5cf6; }
.activity-icon.import { background: #f59e0b; }
.activity-icon.export { background: #06b6d4; }

.activity-content {
    flex: 1;
    min-width: 0;
}

.activity-message {
    font-size: 14px;
    color: #374151;
    margin-bottom: 4px;
    line-height: 1.4;
}

.activity-meta {
    font-size: 12px;
    color: #9ca3af;
    display: flex;
    gap: 12px;
    align-items: center;
}

.activity-time {
    font-weight: 500;
}

.activity-user {
    color: #6b7280;
}

.activity-entity {
    background: #e5e7eb;
    color: #374151;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.loading-spinner {
    text-align: center;
    padding: 40px;
    color: #6b7280;
}

.loading-spinner i {
    font-size: 24px;
    margin-bottom: 10px;
}

.empty-state {
    text-align: center;
    padding: 40px;
    color: #6b7280;
}

.empty-state i {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.5;
}

.empty-state h3 {
    margin: 0 0 8px 0;
    color: #374151;
}

.empty-state p {
    margin: 0;
    font-size: 14px;
}

/* Rules Management Styles */
.rules-header {
    padding: 20px;
    border-bottom: 1px solid #e2e8f0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0;
}

.rules-actions {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.rules-content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.rules-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
}

.stat-card {
    background: rgba(255,255,255,0.8);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: var(--border-radius);
    padding: 1rem;
    text-align: center;
    transition: all 0.3s ease;
}

.stat-card:hover {
    background: rgba(255,255,255,0.95);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.stat-number {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-600);
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--neutral-600);
    font-weight: 500;
}

.rules-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.rule-card {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: var(--shadow-lg);
    transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
    position: relative;
    overflow: hidden;
}

.rule-card-grid {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 1.5rem;
    align-items: start;
}

.rule-toggle-section {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 1rem;
}

.rule-content-section {
    min-width: 0;
}

.rule-title-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
    width: 100%;
}

.rule-title {
    flex: 1;
    margin: 0;
    padding-right: 1rem;
}

.rule-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-shrink: 0;
}

.rule-conditions-summary {
    margin-top: 0.75rem;
    padding: 0.75rem;
    background: rgba(248, 250, 252, 0.8);
    border: 1px solid rgba(226, 232, 240, 0.6);
    border-radius: 8px;
    font-size: 0.875rem;
    color: #475569;
    line-height: 1.5;
}

.rule-description-line {
    margin-bottom: 0.5rem;
    font-style: italic;
    color: #64748b;
}

.rule-logic-line {
    color: #475569;
}

.rule-logic-line strong {
    color: #334155;
    font-weight: 600;
}

.rule-header {
    margin-bottom: 1rem;
}

.rule-body {
    margin: 0;
}

/* Enhanced Rule Toggle Styling */
.rule-toggle-label {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 32px;
    cursor: pointer;
}

.rule-toggle {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #e2e8f0, #cbd5e1);
    transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
    border-radius: 32px;
    border: 2px solid rgba(255,255,255,0.2);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 24px;
    width: 24px;
    left: 2px;
    bottom: 2px;
    background: linear-gradient(135deg, #ffffff, #f8fafc);
    transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.rule-toggle:checked + .toggle-slider {
    background: linear-gradient(135deg, #10b981, #059669);
    border-color: rgba(16,185,129,0.3);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1), 0 0 0 3px rgba(16,185,129,0.1);
}

.rule-toggle:checked + .toggle-slider:before {
    transform: translateX(28px);
    background: linear-gradient(135deg, #ffffff, #f0fdf4);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.rule-toggle:focus + .toggle-slider {
    box-shadow: 0 0 0 3px rgba(16,185,129,0.2);
}

.rule-toggle:checked:focus + .toggle-slider {
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1), 0 0 0 3px rgba(16,185,129,0.2);
}

/* Removed top border styling - keeping only left border */

.rule-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    pointer-events: none;
    z-index: -1;
}

.rule-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
    border-color: rgba(102,126,234,0.3);
}

.rule-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(226,232,240,0.6);
    gap: 1rem;
}

.rule-title {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--primary-800);
    letter-spacing: -0.025em;
    flex: 1;
    min-width: 0;
}

.rule-status {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1rem;
    background: rgba(248,250,252,0.8);
    border-radius: var(--border-radius);
    border: 1px solid rgba(226,232,240,0.6);
}

.rule-actions {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.btn-icon {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: var(--border-radius);
    background: rgba(248,250,252,0.8);
    color: var(--primary-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
    font-size: 1rem;
    border: 1px solid rgba(226,232,240,0.6);
    position: relative;
    overflow: hidden;
}

.btn-icon::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.5s;
}

.btn-icon:hover::before {
    left: 100%;
}

.btn-icon:hover {
    background: var(--primary-100);
    color: var(--primary-700);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--primary-300);
}

.btn-icon.danger {
    background: var(--error-50);
    color: var(--error-600);
    border-color: var(--error-200);
}

.btn-icon.danger:hover {
    background: var(--error-500);
    color: white;
    border-color: var(--error-500);
    box-shadow: 0 4px 12px rgba(239,68,68,0.3);
}

.rule-card-body {
    margin-top: 0;
}

.rule-description {
    color: var(--neutral-600);
    font-size: 0.9375rem;
    margin: 0;
    line-height: 1.6;
    font-weight: 400;
}

.rule-details {
    display: flex;
    gap: 2rem;
    font-size: 0.8125rem;
    color: var(--neutral-600);
    flex-wrap: wrap;
}

.rule-condition-count,
.rule-severity {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(248,250,252,0.6);
    border-radius: var(--border-radius);
    border: 1px solid rgba(226,232,240,0.4);
    font-weight: 500;
}

.rule-severity {
    font-weight: 600;
}

.rule-severity.severity-error {
    background: var(--error-50);
    color: var(--error-700);
    border-color: var(--error-200);
}

.rule-severity.severity-warning {
    background: var(--warning-50);
    color: var(--warning-700);
    border-color: var(--warning-200);
}

.rule-severity.severity-info {
    background: rgba(59,130,246,0.1);
    color: var(--primary-700);
    border-color: rgba(59,130,246,0.2);
}

/* Rule Builder Styles */
.rule-builder-section {
    margin-bottom: 1.5rem;
    padding: 1.5rem;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius-lg);
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: var(--shadow-lg);
    position: relative;
    overflow: hidden;
}

.rule-builder-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    pointer-events: none;
    z-index: -1;
}

.rule-builder-section h4 {
    margin: 0 0 1rem 0;
    color: var(--primary-800);
    font-size: 1.1rem;
    font-weight: 700;
    letter-spacing: -0.025em;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.rule-builder-section h4::before {
    content: '';
    width: 4px;
    height: 24px;
    background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
    border-radius: 2px;
}

.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: var(--primary-700);
    font-size: 0.875rem;
}

/* Mode Toggle Styles - Completely Redesigned */
.mode-toggle-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.mode-toggle {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
    align-self: flex-start;
}

.mode-toggle input[type="checkbox"] {
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute;
}

.toggle-track {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--success-500);
    border-radius: 30px;
    transition: background-color 0.3s ease;
}

.toggle-thumb {
    position: absolute;
    height: 24px;
    width: 24px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.toggle-label-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    cursor: pointer;
    z-index: 1;
}

/* Simple Mode (checked) - Green */
.mode-toggle input:checked + .toggle-track {
    background-color: var(--success-500);
}

.mode-toggle input:checked + .toggle-track .toggle-thumb {
    transform: translateX(30px);
}

/* Advanced Mode (unchecked) - Blue */
.mode-toggle input:not(:checked) + .toggle-track {
    background-color: var(--primary-500);
}

.mode-display {
    display: flex;
    align-items: center;
}

.current-mode {
    font-weight: 600;
    color: var(--success-600);
    font-size: 1rem;
    transition: all 0.3s ease;
}

/* Mode label color is handled by JavaScript */

/* Condition Section Styles */
.condition-section {
    margin-bottom: 1.5rem;
    padding: 1.5rem;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: var(--border-radius-lg);
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

.condition-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
    pointer-events: none;
    z-index: -1;
}

.section-header {
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(226,232,240,0.6);
}

.section-header h5 {
    margin: 0 0 0.25rem 0;
    color: var(--primary-800);
    font-size: 1rem;
    font-weight: 700;
    letter-spacing: -0.025em;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.section-header h5::before {
    content: '';
    width: 3px;
    height: 20px;
    background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
    border-radius: 2px;
}

.section-description {
    color: var(--neutral-600);
    font-size: 0.875rem;
    line-height: 1.5;
    margin: 0;
}

.section-header h5 i {
    color: var(--primary-500);
}

.section-description {
    margin: 0;
    color: var(--neutral-600);
    font-size: 0.875rem;
    font-style: italic;
}

/* Employee Filter Section */
.employee-filter-section {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(255,255,255,0.5);
    border-radius: var(--border-radius-sm);
    border: 1px solid rgba(0,0,0,0.05);
}

.employee-filter-section h6 {
    margin: 0 0 1rem 0;
    color: var(--primary-600);
    font-size: 1rem;
    font-weight: 600;
}

.filter-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
    align-items: end;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-group label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--neutral-700);
}

/* Logic Controls */
.logic-controls {
    margin: 1.5rem 0;
    padding: 1rem;
    background: rgba(248,250,252,0.8);
    border-radius: var(--border-radius-sm);
    border: 1px solid rgba(0,0,0,0.1);
}

.logic-controls label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--neutral-700);
    margin-bottom: 0.75rem;
    display: block;
}

.logic-options {
    display: flex;
    gap: 1.5rem;
}

.logic-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
    color: var(--neutral-600);
}

.logic-option input[type="radio"] {
    margin: 0;
    accent-color: var(--primary-500);
}

.logic-option span {
    user-select: none;
}

.form-group .form-help {
    margin-top: 0.5rem;
    margin-bottom: 0;
    clear: both;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: var(--border-radius-sm);
    font-size: 0.875rem;
    transition: all 0.3s ease;
    background: rgba(255,255,255,0.9);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(59,130,246,0.1);
}

.form-help {
    margin-top: 0.5rem;
    margin-bottom: 0;
    font-size: 0.75rem;
    color: var(--neutral-600);
    font-style: italic;
    line-height: 1.4;
    clear: both;
    display: block;
    width: 100%;
}

.condition-row {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 0.75rem;
}

.condition-row .btn-icon {
    flex-shrink: 0;
    margin-left: auto;
    min-width: 40px;
    height: 40px;
}

.condition-row .form-select,
.condition-row .form-input {
    flex: 1;
    min-width: 120px;
    max-width: 200px;
}

.condition-row > * {
    flex: 1;
    min-width: 120px;
}

.form-select,
.form-input {
    padding: 0.5rem 0.75rem;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: var(--border-radius-sm);
    font-size: 0.875rem;
    background: rgba(255,255,255,0.9);
    height: 40px;
}

.conditions-list {
    margin-top: 1rem;
}

.condition-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background: rgba(255,255,255,0.7);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: var(--border-radius-sm);
    margin-bottom: 0.5rem;
}

.condition-content {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.condition-item .condition-text {
    font-size: 0.875rem;
    color: var(--primary-700);
}

.condition-severity {
    padding: 0.25rem 0.5rem;
    border-radius: var(--border-radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.severity-error {
    background: var(--error-100);
    color: var(--error-700);
}

.severity-warning {
    background: var(--warning-100);
    color: var(--warning-700);
}

.severity-info {
    background: var(--info-100);
    color: var(--info-700);
}

.toggle-switch {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    margin-bottom: 0.75rem;
    flex-wrap: nowrap;
    min-width: 0;
    width: 100%;
    position: relative;
    padding: 0.5rem 0;
}

@media (max-width: 480px) {
    .toggle-switch {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .toggle-label {
        white-space: normal;
        line-height: 1.4;
    }
}

.toggle-switch input[type="checkbox"] {
    display: none;
}


.toggle-label {
    font-weight: 500;
    color: var(--primary-700);
    white-space: nowrap;
    flex-shrink: 0;
    order: 2;
    margin-left: 0;
    padding-left: 0.5rem;
    line-height: 1.4;
}

.template-list {
    display: grid;
    gap: 1rem;
}

.template-card {
    background: rgba(255,255,255,0.8);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: var(--border-radius);
    padding: 1.25rem;
    transition: all 0.3s ease;
    cursor: pointer;
}

.template-card:hover {
    background: rgba(255,255,255,0.95);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.template-card h4 {
    margin: 0 0 0.5rem 0;
    color: var(--primary-700);
    font-size: 1rem;
}

.template-card p {
    margin: 0 0 0.75rem 0;
    color: var(--neutral-600);
    font-size: 0.875rem;
}

.template-category {
    display: inline-block;
    background: var(--primary-100);
    color: var(--primary-700);
    padding: 0.25rem 0.5rem;
    border-radius: var(--border-radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.test-results {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(248,250,252,0.8);
    border-radius: var(--border-radius);
    border: 1px solid rgba(0,0,0,0.1);
}

.condition-builder {
    margin-bottom: 20px;
}

.condition-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 80px 100px auto;
    gap: 10px;
    align-items: center;
}

.form-select,
.form-input {
    padding: 8px 12px;
    border: 1px solid #ced4da;
    border-radius: 4px;
    font-size: 14px;
    background: white;
}

.form-select:focus,
.form-input:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
}

.conditions-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.condition-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.condition-content {
    display: flex;
    align-items: center;
    gap: 15px;
    flex: 1;
}

.condition-text {
    font-size: 14px;
    color: #2c3e50;
}

.condition-severity {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
}

.severity-error {
    background: #f8d7da;
    color: #721c24;
}

.severity-warning {
    background: #fff3cd;
    color: #856404;
}

.severity-info {
    background: #d1ecf1;
    color: #0c5460;
}

/* Toggle Switch Styles */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}


.toggle-label {
    margin-left: 10px;
    font-size: 14px;
    color: #495057;
}

/* Template Selection Styles */
.template-list {
    display: grid;
    gap: 15px;
}

.template-card {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 20px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.template-card:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transform: translateY(-1px);
}

.template-card h4 {
    margin: 0 0 10px 0;
    color: #2c3e50;
    font-size: 16px;
    font-weight: 600;
}

.template-card p {
    margin: 0 0 15px 0;
    color: #6c757d;
    font-size: 14px;
    line-height: 1.4;
}

.template-category {
    display: inline-block;
    background: #e9ecef;
    color: #495057;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 15px;
}

/* Test Results Styles */
.test-results {
    margin-top: 15px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
}

.test-result {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    font-size: 14px;
}

.test-result.success {
    color: #155724;
}

.test-result.error {
    color: #721c24;
}

.test-result.warning {
    color: #856404;
}

.test-result-header {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #dee2e6;
}

.test-result-list {
    max-height: 200px;
    overflow-y: auto;
}

.test-result-more {
    font-style: italic;
    color: #6c757d;
    text-align: center;
    padding: 10px 0;
}

/* Form Help Text */
.form-help {
    font-size: 12px;
    color: #6c757d;
    margin-top: 5px;
    line-height: 1.3;
}

/* Rule-based Issue Display Styles */
.issue-item.rule-violation {
    border-left: 4px solid #007bff;
    background: #f8f9fa;
    margin-bottom: 10px;
}

.issue-item.rule-violation.severity-error {
    border-left-color: #dc3545;
    background: #f8d7da;
}

.issue-item.rule-violation.severity-warning {
    border-left-color: #ffc107;
    background: #fff3cd;
}

.issue-item.rule-violation.severity-info {
    border-left-color: #17a2b8;
    background: #d1ecf1;
}

.issue-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
}

.rule-name {
    font-weight: 600;
    color: #2c3e50;
    flex: 1;
}

.severity-badge {
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
}

.severity-badge.severity-error {
    background: #dc3545;
    color: white;
}

.severity-badge.severity-warning {
    background: #ffc107;
    color: #212529;
}

.severity-badge.severity-info {
    background: #17a2b8;
    color: white;
}

.issue-details {
    font-size: 14px;
    color: #495057;
    line-height: 1.4;
}

/* Responsive Design for Rule Builder */
@media (max-width: 768px) {
    .condition-row {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .rule-card-header {
        flex-direction: column;
        gap: 15px;
    }
    
    .rule-title {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    
    .rule-actions {
        align-self: flex-end;
    }
}

/* Responsive Design for Staffing Issues Panel */
@media (max-width: 768px) {
    .staffing-issues-panel {
        top: 10px;
        right: 10px;
        width: 380px !important;
        min-width: 380px !important;
        max-width: 380px !important;
    }
    
    .staffing-issues-panel.collapsed {
        width: 380px !important;
        min-width: 380px !important;
        max-width: 380px !important;
    }

    .pms-guide-panel {
        top: 10px;
        left: 10px;
        width: 560px !important;
        min-width: 560px !important;
        max-width: 560px !important;
    }
    
    .pms-guide-panel.collapsed {
        width: 560px !important;
        min-width: 560px !important;
        max-width: 560px !important;
    }
}

@media (max-width: 480px) {
    .staffing-issues-panel {
        width: calc(100vw - 20px) !important;
        min-width: calc(100vw - 20px) !important;
        max-width: calc(100vw - 20px) !important;
        right: 10px;
        left: 10px;
    }
    
    .staffing-issues-panel.collapsed {
        width: 200px !important;
        min-width: 200px !important;
        max-width: 200px !important;
        right: 10px;
        left: auto;
    }

    .pms-guide-panel {
        width: calc(100vw - 20px) !important;
        min-width: calc(100vw - 20px) !important;
        max-width: calc(100vw - 20px) !important;
        left: 10px;
        right: 10px;
    }
    
    .pms-guide-panel.collapsed {
        width: 200px !important;
        min-width: 200px !important;
        max-width: 200px !important;
        left: 10px;
        right: auto;
    }
}

/* Compact Rule Card Redesign */
.rule-card {
    padding: 1rem;
    margin-bottom: 0.75rem;
}

.rule-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid rgba(0,0,0,0.12);
}

.rule-header-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.rule-toggle-label.compact {
    display: flex;
    align-items: center;
    justify-content: center;
}

.rule-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-700);
    margin: 0;
    flex: 1;
}

.rule-type-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem;
    border-radius: var(--border-radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    min-width: 80px;
    justify-content: center;
}

.rule-type-badge.employee-rule {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #1e40af;
    border: 1px solid #93c5fd;
}

.rule-type-badge.summary-rule {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
    border: 1px solid #fbbf24;
}

.rule-type-badge.advanced-rule {
    background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%);
    color: #6b21a8;
    border: 1px solid #c084fc;
}

.rule-actions.compact {
    display: flex;
    gap: 0.375rem;
    align-items: center;
}

.btn-icon.compact {
    width: 32px;
    height: 32px;
    padding: 0;
    font-size: 0.875rem;
    border-radius: var(--border-radius-sm);
}

.rule-toggle-label.compact {
    width: 48px;
    height: 24px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.toggle-slider.compact {
    width: 48px;
    height: 24px;
    border-radius: 12px;
    position: relative;
    margin: 0;
}

.toggle-slider.compact:before {
    height: 18px;
    width: 18px;
    left: 1px;
    top: 1px;
    bottom: auto;
    border-radius: 50%;
    position: absolute;
}

.rule-toggle.compact:checked + .toggle-slider.compact:before {
    transform: translateX(26px);
}

.rule-card-body {
    padding: 0;
    margin: 0;
}

.rule-description {
    color: var(--neutral-600);
    font-size: 0.875rem;
    margin: 0 0 0.5rem 0;
    line-height: 1.4;
    font-weight: 500;
}

.rule-logic {
    color: var(--neutral-700);
    font-size: 0.8125rem;
    margin: 0;
    line-height: 1.4;
    font-weight: 400;
}

/* Rule type specific styling */
.employee-rule-card {
    border-left: 4px solid #3b82f6;
}

.summary-rule-card {
    border-left: 4px solid #f59e0b;
}

.advanced-rule-card {
    border-left: 4px solid #8b5cf6;
}